{"ast":null,"code":"import _classCallCheck from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/shopHome/product-item.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"react-responsive-modal\";\nimport { authAxios } from \"../../../authAxios\";\nimport { addToCartURL } from \"../../../constants\";\nimport { connect } from \"react-redux\";\nimport { fetchCart } from \"../../../actions/cart\";\n\nvar ProductItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductItem, _Component);\n\n  function ProductItem(props) {\n    var _this;\n\n    _classCallCheck(this, ProductItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductItem).call(this, props));\n\n    _this.minusQty = function () {\n      if (_this.state.quantity > 1) {\n        _this.setState({\n          stock: \"InStock\"\n        });\n\n        _this.setState({\n          quantity: _this.state.quantity - 1\n        });\n\n        _this.props.onDecrementClicked();\n      } else {\n        console.log(\"removefromcart\");\n\n        _this.setState({\n          openQuantity: false\n        });\n\n        _this.props.onRemoveFromCart();\n      }\n    };\n\n    _this.plusQty = function () {\n      if (_this.props.product.stock >= _this.state.quantity) {\n        _this.setState({\n          quantity: _this.state.quantity + 1\n        });\n\n        _this.props.onIncrementClicked();\n      } else {\n        _this.setState({\n          stock: \"Out of Stock !\"\n        });\n      }\n    };\n\n    _this.changeQty = function (e) {\n      _this.setState({\n        quantity: parseInt(e.target.value)\n      });\n    };\n\n    _this.updateQty = function (e) {\n      if (_this.props.product.stock >= parseInt(e.target.value)) {\n        _this.setState({\n          quantity: parseInt(e.target.value)\n        });\n\n        _this.props.onAddToCartClicked();\n      } else {\n        _this.setState({\n          stock: \"Out of Stock !\"\n        });\n      }\n    };\n\n    _this.plusQty2 = function (id, shop) {\n      // this.setState({ openQuantity: true });\n      console.log(\"plus qnt\");\n\n      _this.setState({\n        quantity: _this.state.quantity + 1\n      });\n\n      _this.handleAddToCart2(id, shop);\n\n      _this.props.refreshCart();\n    };\n\n    _this.minusQty2 = function (id) {\n      if (_this.state.quantity > 1) {\n        _this.setState({\n          quantity: _this.state.quantity - 1\n        });\n      } else {\n        _this.setState({\n          openQuantity: false\n        });\n      }\n\n      console.log(\"minus qnt\"); // this.handleAddToCart2(id, shop);\n    };\n\n    _this.openQuantity = function (id, shop) {\n      _this.setState({\n        openQuantity: true\n      });\n\n      _this.handleAddToCart2(id, shop);\n    };\n\n    _this.handleAddToCart2 = function (id, shop) {\n      console.log(\"addtocart\");\n\n      _this.setState({\n        loading: true\n      });\n\n      authAxios.post(addToCartURL, {\n        id: id,\n        shop: shop\n      }).then(function (res) {\n        _this.props.refreshCart();\n\n        _this.setState({\n          loading: false\n        });\n      }).catch(function (err) {\n        _this.setState({\n          error: err,\n          loading: false\n        });\n      });\n    };\n\n    _this.state = {\n      open: false,\n      openQuantity: false,\n      stock: \"InStock\",\n      quantity: 1,\n      image: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ProductItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          product = _this$props.product,\n          symbol = _this$props.symbol,\n          onAddToWishlistClicked = _this$props.onAddToWishlistClicked,\n          onAddToCompareClicked = _this$props.onAddToCompareClicked;\n      var RatingStars = [];\n\n      for (var i = 0; i < product.rating; i++) {\n        RatingStars.push(React.createElement(\"i\", {\n          className: \"fa fa-star\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"product-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"img-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"lable-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, product.is_available == !true ? React.createElement(\"span\", {\n        className: \"lable3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Out of Stock\") : \"\", product.is_on_sale == true ? React.createElement(\"span\", {\n        className: \"lable4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Sale\") : \"\"), React.createElement(\"div\", {\n        className: \"front\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"\".concat(process.env.PUBLIC_URL, \"/left-sidebar/product/\").concat(product.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://image.freepik.com/free-photo/river-foggy-mountains-landscape_1204-511.jpg\",\n        className: \"img-fluid lazyload bg-img\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"addtocart_btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"add-button add_cart\",\n        title: \"Add to cart\" // onClick={this.openQuantity}\n        //   onClick={() => this.handleAddToCart2(product.id, product.shop)}\n        ,\n        onClick: function onClick() {\n          return _this2.openQuantity(product.id, product.shop);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"add to cart\"), React.createElement(\"div\", {\n        className: \"qty-box cart_qty \".concat(this.state.openQuantity ? \"open\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn quantity-left-minus\" // onClick={this.minusQty}\n        ,\n        onClick: function onClick() {\n          return _this2.minusQty2(product.id);\n        },\n        \"data-type\": \"minus\",\n        \"data-field\": \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-minus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        type: \"number\",\n        name: \"quantity\",\n        value: this.state.quantity,\n        onChange: this.changeQty,\n        onBlur: this.updateQty,\n        className: \"form-control input-number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn quantity-right-plus\" // onClick={this.plusQty}\n        ,\n        onClick: function onClick() {\n          return _this2.plusQty2(product.id, product.shop);\n        },\n        \"data-type\": \"plus\",\n        \"data-field\": \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }))))))), React.createElement(\"div\", {\n        className: \"product-detail text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, RatingStars), React.createElement(Link, {\n        to: \"\".concat(process.env.PUBLIC_URL, \"/left-sidebar/product/\").concat(product.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, product.title)), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, symbol, product.price - product.price * product.discount / 100, React.createElement(\"del\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"money\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, symbol, product.final_price))))));\n    }\n  }]);\n\n  return ProductItem;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    refreshCart: function refreshCart() {\n      return dispatch(fetchCart());\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(ProductItem);","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/shopHome/product-item.jsx"],"names":["React","Component","Link","Modal","authAxios","addToCartURL","connect","fetchCart","ProductItem","props","minusQty","state","quantity","setState","stock","onDecrementClicked","console","log","openQuantity","onRemoveFromCart","plusQty","product","onIncrementClicked","changeQty","e","parseInt","target","value","updateQty","onAddToCartClicked","plusQty2","id","shop","handleAddToCart2","refreshCart","minusQty2","loading","post","then","res","catch","err","error","open","image","symbol","onAddToWishlistClicked","onAddToCompareClicked","RatingStars","i","rating","push","is_available","is_on_sale","process","env","PUBLIC_URL","title","price","discount","final_price","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"react-responsive-modal\";\nimport { authAxios } from \"../../../authAxios\";\nimport { addToCartURL } from \"../../../constants\";\nimport { connect } from \"react-redux\";\nimport { fetchCart } from \"../../../actions/cart\";\n\nclass ProductItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: false,\n      openQuantity: false,\n      stock: \"InStock\",\n      quantity: 1,\n      image: \"\"\n    };\n  }\n\n  minusQty = () => {\n    if (this.state.quantity > 1) {\n      this.setState({ stock: \"InStock\" });\n      this.setState({ quantity: this.state.quantity - 1 });\n      this.props.onDecrementClicked();\n    } else {\n      console.log(\"removefromcart\");\n      this.setState({ openQuantity: false });\n      this.props.onRemoveFromCart();\n    }\n  };\n\n  plusQty = () => {\n    if (this.props.product.stock >= this.state.quantity) {\n      this.setState({ quantity: this.state.quantity + 1 });\n      this.props.onIncrementClicked();\n    } else {\n      this.setState({ stock: \"Out of Stock !\" });\n    }\n  };\n  changeQty = e => {\n    this.setState({ quantity: parseInt(e.target.value) });\n  };\n  updateQty = e => {\n    if (this.props.product.stock >= parseInt(e.target.value)) {\n      this.setState({ quantity: parseInt(e.target.value) });\n      this.props.onAddToCartClicked();\n    } else {\n      this.setState({ stock: \"Out of Stock !\" });\n    }\n  };\n\n  plusQty2 = (id, shop) => {\n    // this.setState({ openQuantity: true });\n    console.log(\"plus qnt\");\n    this.setState({ quantity: this.state.quantity + 1 });\n    this.handleAddToCart2(id, shop);\n    this.props.refreshCart();\n  };\n\n  minusQty2 = id => {\n    if (this.state.quantity > 1) {\n      this.setState({ quantity: this.state.quantity - 1 });\n    } else {\n      this.setState({ openQuantity: false });\n    }\n\n    console.log(\"minus qnt\");\n\n    // this.handleAddToCart2(id, shop);\n  };\n\n  openQuantity = (id, shop) => {\n    this.setState({ openQuantity: true });\n    this.handleAddToCart2(id, shop);\n  };\n\n  handleAddToCart2 = (id, shop) => {\n    console.log(\"addtocart\");\n    this.setState({ loading: true });\n\n    authAxios\n      .post(addToCartURL, { id, shop })\n      .then(res => {\n        this.props.refreshCart();\n        this.setState({ loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  render() {\n    const {\n      product,\n      symbol,\n      // onAddToCartClicked,\n      onAddToWishlistClicked,\n      onAddToCompareClicked\n      // handleAddToCart\n    } = this.props;\n\n    let RatingStars = [];\n    for (var i = 0; i < product.rating; i++) {\n      RatingStars.push(<i className=\"fa fa-star\" key={i}></i>);\n    }\n    return (\n      <div className=\"product-box\">\n        <div className=\"img-wrapper\">\n          <div className=\"lable-block\">\n            {product.is_available == !true ? (\n              <span className=\"lable3\">Out of Stock</span>\n            ) : (\n              \"\"\n            )}\n            {product.is_on_sale == true ? (\n              <span className=\"lable4\">Sale</span>\n            ) : (\n              \"\"\n            )}\n          </div>\n          <div className=\"front\">\n            <Link\n              to={`${process.env.PUBLIC_URL}/left-sidebar/product/${product.id}`}\n            >\n              <img\n                src={\n                  \"https://image.freepik.com/free-photo/river-foggy-mountains-landscape_1204-511.jpg\"\n                }\n                className=\"img-fluid lazyload bg-img\"\n                alt=\"\"\n              />\n            </Link>\n          </div>\n          {/* <div className=\"cart-info cart-wrap\">\n            <a\n              href=\"javascript:void(0)\"\n              title=\"Add to Wishlist\"\n              onClick={onAddToWishlistClicked}\n            >\n              <i className=\"fa fa-heart\" aria-hidden=\"true\"></i>\n            </a>\n          </div> */}\n          <div className=\"addtocart_btn\">\n            <button\n              className=\"add-button add_cart\"\n              title=\"Add to cart\"\n              // onClick={this.openQuantity}\n              //   onClick={() => this.handleAddToCart2(product.id, product.shop)}\n              onClick={() => this.openQuantity(product.id, product.shop)}\n            >\n              add to cart\n            </button>\n            <div\n              className={`qty-box cart_qty ${\n                this.state.openQuantity ? \"open\" : \"\"\n              }`}\n            >\n              <div className=\"input-group\">\n                <span className=\"input-group-prepend\">\n                  <button\n                    type=\"button\"\n                    className=\"btn quantity-left-minus\"\n                    // onClick={this.minusQty}\n                    onClick={() => this.minusQty2(product.id)}\n                    data-type=\"minus\"\n                    data-field=\"\"\n                  >\n                    <i className=\"fa fa-minus\"></i>\n                  </button>\n                </span>\n                <input\n                  type=\"number\"\n                  name=\"quantity\"\n                  value={this.state.quantity}\n                  onChange={this.changeQty}\n                  onBlur={this.updateQty}\n                  className=\"form-control input-number\"\n                />\n                <span className=\"input-group-prepend\">\n                  <button\n                    type=\"button\"\n                    className=\"btn quantity-right-plus\"\n                    // onClick={this.plusQty}\n                    onClick={() => this.plusQty2(product.id, product.shop)}\n                    data-type=\"plus\"\n                    data-field=\"\"\n                  >\n                    <i className=\"fa fa-plus\"></i>\n                  </button>\n                </span>\n              </div>\n            </div>\n          </div>\n          {/* {this.state.stock != \"InStock\" ? <span>Out Of Stock</span> : \"\"} */}\n        </div>\n        <div className=\"product-detail text-center\">\n          <div>\n            <div className=\"rating\">{RatingStars}</div>\n            <Link\n              to={`${process.env.PUBLIC_URL}/left-sidebar/product/${product.id}`}\n            >\n              <h6>{product.title}</h6>\n            </Link>\n            <h4>\n              {symbol}\n              {product.price - (product.price * product.discount) / 100}\n              <del>\n                <span className=\"money\">\n                  {symbol}\n                  {product.final_price}\n                </span>\n              </del>\n            </h4>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    refreshCart: () => dispatch(fetchCart())\n  };\n};\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ProductItem);\n"]},"metadata":{},"sourceType":"module"}