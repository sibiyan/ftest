{"ast":null,"code":"import _classCallCheck from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/orders/main.jsx\";\nimport React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport { connect } from \"react-redux\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { orderListURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { fetchUser } from \"../../../actions/user\";\n\nvar Orders =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Orders, _Component);\n\n  function Orders(props) {\n    var _this;\n\n    _classCallCheck(this, Orders);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Orders).call(this, props));\n\n    _this.handleFetchOrdersScroll = function () {\n      _this.setState({\n        loading: true\n      }, function () {\n        var _this$state = _this.state,\n            offset = _this$state.offset,\n            limit = _this$state.limit;\n\n        _this.setState({\n          offset: _this.state.offset + limit\n        });\n\n        authAxios.get(orderListURL + \"?limit=\".concat(limit, \"&offset=\").concat(offset)) // .get(orderListURL)\n        .then(function (res) {\n          _this.setState({\n            orders: _this.state.orders.concat(res.data.orders)\n          });\n\n          _this.setState({\n            hasMore: res.data.hasMore\n          });\n        }).catch(function (err) {\n          _this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n      });\n    };\n\n    _this.state = {\n      orders: [],\n      newOrders: [],\n      loading: false,\n      error: null,\n      offset: 0,\n      limit: 10,\n      query: \"all\",\n      // query: 184\n      hasMore: true\n    };\n    return _this;\n  }\n\n  _createClass(Orders, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this.props.fetchUserType();\n      this.setState({\n        loading: true\n      }, function () {\n        var _this2$state = _this2.state,\n            offset = _this2$state.offset,\n            limit = _this2$state.limit,\n            query = _this2$state.query;\n        authAxios // .get(orderListURL)\n        .get(orderListURL + \"?limit=\".concat(limit, \"&offset=\").concat(offset)).then(function (res) {\n          _this2.setState({\n            orders: res.data.orders\n          });\n        }).catch(function (err) {\n          _this2.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          orders = _this$state2.orders,\n          hasMore = _this$state2.hasMore,\n          query = _this$state2.query,\n          limit = _this$state2.limit;\n      var _this$props = this.props,\n          userType = _this$props.userType,\n          token = _this$props.token; // console.log(query, orders, limit, hasMore);\n\n      if (!token) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Breadcrumb, {\n        title: \"My Orders\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), orders && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(InfiniteScroll, {\n        dataLength: this.state.orders.length //This is important field to render the next data\n        ,\n        next: this.handleFetchOrdersScroll,\n        hasMore: this.state.hasMore,\n        loader: React.createElement(\"div\", {\n          className: \"loading-cls\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }),\n        endMessage: React.createElement(\"p\", {\n          className: \"seen-cls seen-it-cls\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"No more order to show\")),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"section-b-space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Link, {\n        style: {\n          color: \"#FFF\"\n        },\n        to: \"/orders\",\n        onClick: this.handleFetchOrders,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"My Orders\")), orders.map(function (order, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-lg-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"collection-mobile-back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"filter-back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-angle-left\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), \" \", \"back\")))), React.createElement(\"div\", {\n          className: \"col-lg-9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-account box-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-head\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, order.shop_name)), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Order No: \", order.id)), React.createElement(\"div\", {\n          className: \"box-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"Date: \", order.start_date), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Status: \", order.orderStatus), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"order/\".concat(order.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"View More\"))))))))));\n      }))))));\n    }\n  }]);\n\n  return Orders;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userType: state.user.user.UserType,\n    token: state.auth.token\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchUserType: function fetchUserType() {\n      return dispatch(fetchUser());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Orders); // export default Orders;","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/orders/main.jsx"],"names":["React","Component","Link","Redirect","Breadcrumb","connect","InfiniteScroll","orderListURL","authAxios","fetchUser","Orders","props","handleFetchOrdersScroll","setState","loading","state","offset","limit","get","then","res","orders","concat","data","hasMore","catch","err","error","message","newOrders","query","fetchUserType","userType","token","length","color","handleFetchOrders","map","order","index","shop_name","id","start_date","orderStatus","mapStateToProps","user","UserType","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport { connect } from \"react-redux\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport { orderListURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { fetchUser } from \"../../../actions/user\";\n\nclass Orders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orders: [],\n      newOrders: [],\n      loading: false,\n      error: null,\n      offset: 0,\n      limit: 10,\n      query: \"all\",\n      // query: 184\n      hasMore: true\n    };\n  }\n\n  componentWillMount() {\n    this.props.fetchUserType();\n\n    this.setState({ loading: true }, () => {\n      const { offset, limit, query } = this.state;\n      authAxios\n        // .get(orderListURL)\n        .get(orderListURL + `?limit=${limit}&offset=${offset}`)\n        .then(res => {\n          this.setState({ orders: res.data.orders });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  }\n\n  handleFetchOrdersScroll = () => {\n    this.setState({ loading: true }, () => {\n      const { offset, limit } = this.state;\n      this.setState({ offset: this.state.offset + limit });\n      authAxios\n        .get(orderListURL + `?limit=${limit}&offset=${offset}`)\n        // .get(orderListURL)\n        .then(res => {\n          this.setState({ orders: this.state.orders.concat(res.data.orders) });\n          this.setState({ hasMore: res.data.hasMore });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  };\n\n  render() {\n    const { orders, hasMore, query, limit } = this.state;\n    const { userType, token } = this.props;\n    // console.log(query, orders, limit, hasMore);\n\n    if (!token) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <div>\n        <Breadcrumb title={\"My Orders\"} />\n\n        {orders && (\n          <div>\n            <InfiniteScroll\n              dataLength={this.state.orders.length} //This is important field to render the next data\n              next={this.handleFetchOrdersScroll}\n              hasMore={this.state.hasMore}\n              loader={<div className=\"loading-cls\"></div>}\n              endMessage={\n                <p className=\"seen-cls seen-it-cls\">\n                  <b>No more order to show</b>\n                </p>\n              }\n            >\n              <section className=\"section-b-space\">\n                <div className=\"container\">\n                  <div className=\"account-sidebar\">\n                    <Link\n                      style={{ color: \"#FFF\" }}\n                      to={`/orders`}\n                      onClick={this.handleFetchOrders}\n                    >\n                      My Orders\n                    </Link>\n                  </div>\n                  {orders.map((order, index) => (\n                    <div key={index} className=\"row\">\n                      <div className=\"col-lg-3\">\n                        <div className=\"dashboard-left\">\n                          <div className=\"collection-mobile-back\">\n                            <span className=\"filter-back\">\n                              <i\n                                className=\"fa fa-angle-left\"\n                                aria-hidden=\"true\"\n                              ></i>{\" \"}\n                              back\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-9\">\n                        <div className=\"dashboard-right\">\n                          <div className=\"dashboard\">\n                            <div className=\"box-account box-info\">\n                              <div className=\"box-head\">\n                                <h3>{order.shop_name}</h3>\n                              </div>\n                              <div className=\"row\">\n                                <div className=\"col-sm-6\">\n                                  <div className=\"box\">\n                                    <div className=\"box-title\">\n                                      <h4>Order No: {order.id}</h4>\n                                      {/* {(userType === \"DeliveryStaff\") |\n                                        (userType === \"ShopOwner\") && (\n                                        <div>\n                                          <div>\n                                            Customer: {order.customer_name}\n                                          </div>\n                                          <div>\n                                            Customer: {order.phone_number}\n                                          </div>\n                                        </div>\n                                      )} */}\n                                    </div>\n\n                                    <div className=\"box-content\">\n                                      <h6>Date: {order.start_date}</h6>\n                                      <h6>Status: {order.orderStatus}</h6>\n                                      <br></br>\n                                      <a href={`order/${order.id}`}>\n                                        View More\n                                      </a>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </section>\n            </InfiniteScroll>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    userType: state.user.user.UserType,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUserType: () => dispatch(fetchUser())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Orders);\n\n// export default Orders;\n"]},"metadata":{},"sourceType":"module"}