{"ast":null,"code":"import _regeneratorRuntime from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/checkout/main.jsx\";\nimport React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { connect } from \"react-redux\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { addressListURL, checkoutURL, orderSummaryURL, ShopModeOfPaymentURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { fetchCart } from \"../../../actions/cart\";\nimport Header from \"../common/header\";\nimport Footer from \"../common/footer\";\n\nvar checkOut =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(checkOut, _Component);\n\n  function checkOut() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, checkOut);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(checkOut)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      shipping: 25,\n      addressList: [],\n      cart: null,\n      selectedAddress: null,\n      shop_id: null,\n      ShopModeOfPayment: [],\n      selectedModeofPayment: null\n    };\n\n    _this.handleFetchOrder = function () {\n      _this.setState({\n        loading: true\n      });\n\n      authAxios.get(orderSummaryURL).then(function (res) {\n        _this.setState({\n          cart: res.data,\n          loading: false\n        });\n\n        _this.setState({\n          shop_id: res.data.shop_id\n        }, function () {\n          _this.fetchModeOfPayment();\n        });\n      }).catch(function (err) {\n        _this.setState({\n          error: err\n        });\n      });\n    };\n\n    _this.fetchModeOfPayment = function () {\n      console.log(\"fetching mode\");\n      var shopID = _this.state.shop_id;\n\n      if (shopID !== undefined) {\n        // console.log(shopID);\n        _this.setState({\n          loading: true\n        });\n\n        authAxios.get(ShopModeOfPaymentURL, {\n          params: {\n            shopID: shopID\n          }\n        }).then(function (res) {\n          _this.setState({\n            ShopModeOfPayment: res.data,\n            loading: false\n          });\n        }).catch(function (err) {\n          _this.setState({\n            error: err,\n            loading: false\n          });\n        });\n      }\n    };\n\n    _this.handleFetchAddresses =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loading: true\n              });\n\n              authAxios.get(addressListURL).then(function (res) {\n                _this.setState({\n                  addressList: res.data,\n                  loading: false\n                });\n              }).catch(function (err) {\n                _this.setState({\n                  error: err,\n                  loading: false\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handleAddress = function (event) {\n      _this.setState({\n        selectedAddress: event.target.value\n      });\n\n      console.log(event.target.value);\n    };\n\n    _this.handleModeOfPayment = function (event) {\n      _this.setState({\n        selectedModeofPayment: event.target.value\n      });\n\n      console.log(event.target.value);\n    };\n\n    _this.submit = function (ev) {\n      ev.preventDefault();\n      console.log(\"submitting\");\n\n      _this.setState({\n        loading: true\n      });\n\n      var _this$state = _this.state,\n          selectedAddress = _this$state.selectedAddress,\n          selectedModeofPayment = _this$state.selectedModeofPayment;\n\n      if (selectedAddress !== null | selectedModeofPayment !== null) {\n        authAxios.post(checkoutURL, {\n          selectedAddress: selectedAddress,\n          selectedModeofPayment: selectedModeofPayment\n        }).then(function (res) {\n          _this.setState({\n            loading: false,\n            success: true\n          });\n\n          toast.success(\"This shop added to your favorites\");\n\n          _this.redirectToOrders();\n        }).catch(function (err) {\n          _this.setState({\n            loading: false,\n            error: err\n          }, function () {\n            _this.redirectToOrders();\n          });\n        });\n      } else {\n        toast.error(\"Please select an address and mode of payment\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(checkOut, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleFetchAddresses(); // this.props.refreshCart();\n\n      this.handleFetchOrder();\n    }\n  }, {\n    key: \"redirectToOrders\",\n    value: function redirectToOrders() {\n      this.props.refreshCart();\n      console.log(\"refreshcard\");\n      setTimeout(this.props.history.push(\"/orders\"), 10000);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var isAuthenticated = this.props.isAuthenticated;\n      var _this$state2 = this.state,\n          addressList = _this$state2.addressList,\n          selectedAddress = _this$state2.selectedAddress,\n          cart = _this$state2.cart,\n          ShopModeOfPayment = _this$state2.ShopModeOfPayment,\n          shop_id = _this$state2.shop_id; // console.log(ShopModeOfPayment);\n      // console.log(shop_id);\n\n      if (!isAuthenticated) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(ToastContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), cart ? React.createElement(\"div\", {\n        className: \"container padding-cls\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkout-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkout-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkout-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"order-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Product \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" Total\"))), React.createElement(\"ul\", {\n        className: \"qty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, cart.order_items.map(function (item, index) {\n        return React.createElement(\"li\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, item.item.title, \" \\xD7 \", item.quantity, \" \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, item.final_price));\n      })), React.createElement(\"ul\", {\n        className: \"sub-total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Subtotal\", \" \", React.createElement(\"span\", {\n        className: \"count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, cart.total)), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Shipping\", \" \", React.createElement(\"span\", {\n        className: \"count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, this.state.shipping))), React.createElement(\"ul\", {\n        className: \"total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Total\", \" \", React.createElement(\"span\", {\n        className: \"count\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, this.state.shipping + cart.total))))))), ShopModeOfPayment ? React.createElement(\"section\", {\n        className: \"section-b-space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        style: {\n          color: \"#FFF\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \" Select Mode of Payment\")), ShopModeOfPayment.map(function (mode) {\n        return React.createElement(\"div\", {\n          key: mode.id,\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-lg-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"collection-mobile-back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"filter-back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-angle-left\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }), \" \", \"back\")))), React.createElement(\"div\", {\n          className: \"col-lg-9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-account box-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"radio\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          value: mode.id,\n          type: \"radio\",\n          name: \"optradio\",\n          onChange: _this2.handleModeOfPayment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }), \"  \", mode.name))))))))));\n      }))) : null, addressList ? React.createElement(\"section\", {\n        className: \"section-b-space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        style: {\n          color: \"#FFF\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \" Select Address\")), addressList.map(function (address) {\n        return React.createElement(\"div\", {\n          key: address.id,\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-lg-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"collection-mobile-back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"filter-back\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-angle-left\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }), \" \", \"back\")))), React.createElement(\"div\", {\n          className: \"col-lg-9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 279\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-account box-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 280\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-head\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282\n          },\n          __self: this\n        }, address.PlaceName)), React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-sm-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"box-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, address.areaName)), React.createElement(\"div\", {\n          className: \"box-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }, address.full_address), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, \"Village: \", address.vilalgeName), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, \"District: \", address.districtName), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, \"Sate: \", address.stateName), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, \"Phone: \", address.phone_number), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"radio\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          value: address.id,\n          type: \"radio\",\n          name: \"optradio\",\n          onChange: _this2.handleAddress,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 302\n          },\n          __self: this\n        }), \" \", \"Select\"))))))))));\n      }))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(Link, {\n        style: {\n          color: \"#FFF\"\n        },\n        to: \"/create-address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"Add Address\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn-solid btn\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"Place Order\"))) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, \"You dont have an active order\"));\n    }\n  }]);\n\n  return checkOut;\n}(Component);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    refreshCart: function refreshCart() {\n      return dispatch(fetchCart());\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: state.auth.token,\n    cart: state.cart.shoppingCart\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(checkOut); // export default checkOut;","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/checkout/main.jsx"],"names":["React","Component","Helmet","connect","Link","Redirect","SimpleReactValidator","ToastContainer","toast","addressListURL","checkoutURL","orderSummaryURL","ShopModeOfPaymentURL","authAxios","fetchCart","Header","Footer","checkOut","state","shipping","addressList","cart","selectedAddress","shop_id","ShopModeOfPayment","selectedModeofPayment","handleFetchOrder","setState","loading","get","then","res","data","fetchModeOfPayment","catch","err","error","console","log","shopID","undefined","params","handleFetchAddresses","handleAddress","event","target","value","handleModeOfPayment","submit","ev","preventDefault","post","success","redirectToOrders","props","refreshCart","setTimeout","history","push","isAuthenticated","order_items","map","item","index","title","quantity","final_price","total","color","mode","id","name","address","PlaceName","areaName","full_address","vilalgeName","districtName","stateName","phone_number","mapDispatchToProps","dispatch","mapStateToProps","auth","token","shoppingCart"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { connect } from \"react-redux\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport {\n  addressListURL,\n  checkoutURL,\n  orderSummaryURL,\n  ShopModeOfPaymentURL\n} from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { fetchCart } from \"../../../actions/cart\";\nimport Header from \"../common/header\";\nimport Footer from \"../common/footer\";\n\nclass checkOut extends Component {\n  state = {\n    shipping: 25,\n    addressList: [],\n    cart: null,\n    selectedAddress: null,\n    shop_id: null,\n    ShopModeOfPayment: [],\n    selectedModeofPayment: null\n  };\n\n  componentDidMount() {\n    this.handleFetchAddresses();\n    // this.props.refreshCart();\n    this.handleFetchOrder();\n  }\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then(res => {\n        this.setState({ cart: res.data, loading: false });\n        this.setState({ shop_id: res.data.shop_id }, () => {\n          this.fetchModeOfPayment();\n        });\n      })\n\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  fetchModeOfPayment = () => {\n    console.log(\"fetching mode\");\n    const shopID = this.state.shop_id;\n    if (shopID !== undefined) {\n      // console.log(shopID);\n      this.setState({ loading: true });\n      authAxios\n        .get(ShopModeOfPaymentURL, {\n          params: {\n            shopID\n          }\n        })\n        .then(res => {\n          this.setState({ ShopModeOfPayment: res.data, loading: false });\n        })\n        .catch(err => {\n          this.setState({ error: err, loading: false });\n        });\n    }\n  };\n\n  handleFetchAddresses = async () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(addressListURL)\n      .then(res => {\n        this.setState({ addressList: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleAddress = event => {\n    this.setState({ selectedAddress: event.target.value });\n    console.log(event.target.value);\n  };\n\n  handleModeOfPayment = event => {\n    this.setState({ selectedModeofPayment: event.target.value });\n    console.log(event.target.value);\n  };\n  submit = ev => {\n    ev.preventDefault();\n    console.log(\"submitting\");\n    this.setState({ loading: true });\n    const { selectedAddress, selectedModeofPayment } = this.state;\n\n    if ((selectedAddress !== null) | (selectedModeofPayment !== null)) {\n      authAxios\n        .post(checkoutURL, {\n          selectedAddress,\n          selectedModeofPayment\n        })\n        .then(res => {\n          this.setState({ loading: false, success: true });\n          toast.success(\"This shop added to your favorites\");\n          this.redirectToOrders();\n        })\n        .catch(err => {\n          this.setState({ loading: false, error: err }, () => {\n            this.redirectToOrders();\n          });\n        });\n    } else {\n      toast.error(\"Please select an address and mode of payment\");\n    }\n  };\n\n  redirectToOrders() {\n    this.props.refreshCart();\n    console.log(\"refreshcard\");\n    setTimeout(this.props.history.push(\"/orders\"), 10000);\n  }\n\n  render() {\n    const { isAuthenticated } = this.props;\n    const {\n      addressList,\n      selectedAddress,\n      cart,\n      ShopModeOfPayment,\n      shop_id\n    } = this.state;\n\n    // console.log(ShopModeOfPayment);\n    // console.log(shop_id);\n\n    if (!isAuthenticated) {\n      return <Redirect to=\"/login\" />;\n    }\n    return (\n      <div>\n        {/* <Header /> */}\n        <ToastContainer />\n        {/* <Footer /> */}\n        {cart ? (\n          <div className=\"container padding-cls\">\n            <div className=\"checkout-page\">\n              <div className=\"checkout-form\">\n                <div className=\"col-lg-6 col-sm-12 col-xs-12\">\n                  <div className=\"checkout-details\">\n                    <div className=\"order-box\">\n                      <div className=\"title-box\">\n                        <div>\n                          Product <span> Total</span>\n                        </div>\n                      </div>\n                      <ul className=\"qty\">\n                        {cart.order_items.map((item, index) => {\n                          return (\n                            <li key={index}>\n                              {item.item.title} × {item.quantity}{\" \"}\n                              <span>\n                                {/* {symbol} */}\n                                {item.final_price}\n                              </span>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                      <ul className=\"sub-total\">\n                        <li>\n                          Subtotal{\" \"}\n                          <span className=\"count\">\n                            {/* {symbol} */}\n                            {cart.total}\n                          </span>\n                        </li>\n                        <li>\n                          Shipping{\" \"}\n                          <span className=\"count\">\n                            {/* {symbol} */}\n                            {this.state.shipping}\n                          </span>\n                        </li>\n                      </ul>\n\n                      <ul className=\"total\">\n                        <li>\n                          Total{\" \"}\n                          <span className=\"count\">\n                            {/* {symbol} */}\n                            {this.state.shipping + cart.total}\n                          </span>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {ShopModeOfPayment ? (\n                <section className=\"section-b-space\">\n                  <div className=\"container\">\n                    <div className=\"account-sidebar\">\n                      <h6 style={{ color: \"#FFF\" }}> Select Mode of Payment</h6>\n                    </div>\n                    {ShopModeOfPayment.map(mode => (\n                      <div key={mode.id} className=\"row\">\n                        <div className=\"col-lg-3\">\n                          <div className=\"dashboard-left\">\n                            <div className=\"collection-mobile-back\">\n                              <span className=\"filter-back\">\n                                <i\n                                  className=\"fa fa-angle-left\"\n                                  aria-hidden=\"true\"\n                                ></i>{\" \"}\n                                back\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-9\">\n                          <div className=\"dashboard-right\">\n                            <div className=\"dashboard\">\n                              <div className=\"box-account box-info\">\n                                <div className=\"row\">\n                                  <div className=\"col-sm-6\">\n                                    <div className=\"box\">\n                                      <div className=\"radio\">\n                                        <label>\n                                          <input\n                                            value={mode.id}\n                                            type=\"radio\"\n                                            name=\"optradio\"\n                                            onChange={this.handleModeOfPayment}\n                                          />\n                                          {\"  \"}\n                                          {mode.name}\n                                        </label>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </section>\n              ) : null}\n              {addressList ? (\n                <section className=\"section-b-space\">\n                  <div className=\"container\">\n                    <div className=\"account-sidebar\">\n                      <h6 style={{ color: \"#FFF\" }}> Select Address</h6>\n                    </div>\n                    {addressList.map(address => (\n                      <div key={address.id} className=\"row\">\n                        <div className=\"col-lg-3\">\n                          <div className=\"dashboard-left\">\n                            <div className=\"collection-mobile-back\">\n                              <span className=\"filter-back\">\n                                <i\n                                  className=\"fa fa-angle-left\"\n                                  aria-hidden=\"true\"\n                                ></i>{\" \"}\n                                back\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"col-lg-9\">\n                          <div className=\"dashboard-right\">\n                            <div className=\"dashboard\">\n                              <div className=\"box-account box-info\">\n                                <div className=\"box-head\">\n                                  <h2>{address.PlaceName}</h2>\n                                </div>\n                                <div className=\"row\">\n                                  <div className=\"col-sm-6\">\n                                    <div className=\"box\">\n                                      <div className=\"box-title\">\n                                        <h3>{address.areaName}</h3>\n                                      </div>\n                                      <div className=\"box-content\">\n                                        <h6>{address.full_address}</h6>\n                                        <h6>Village: {address.vilalgeName}</h6>\n                                        <h6>\n                                          District: {address.districtName}\n                                        </h6>\n                                        <h6>Sate: {address.stateName}</h6>\n                                        <h6>Phone: {address.phone_number}</h6>\n                                        <br></br>\n                                      </div>\n                                      <div className=\"radio\">\n                                        <label>\n                                          <input\n                                            value={address.id}\n                                            type=\"radio\"\n                                            name=\"optradio\"\n                                            onChange={this.handleAddress}\n                                          />{\" \"}\n                                          Select\n                                        </label>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </section>\n              ) : (\n                <div>\n                  <Link style={{ color: \"#FFF\" }} to={`/create-address`}>\n                    Add Address\n                  </Link>\n                </div>\n              )}\n              <br></br>\n              <button\n                type=\"button\"\n                className=\"btn-solid btn\"\n                onClick={this.submit}\n              >\n                Place Order\n              </button>\n            </div>\n          </div>\n        ) : (\n          <p>You dont have an active order</p>\n        )}\n      </div>\n    );\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    refreshCart: () => dispatch(fetchCart())\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token,\n    cart: state.cart.shoppingCart\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(checkOut);\n// export default checkOut;\n"]},"metadata":{},"sourceType":"module"}