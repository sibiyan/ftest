{"ast":null,"code":"import _slicedToArray from \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/manageOrders/tableSearchForm.jsx\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { authSignup } from \"../../../actions/auth\";\nimport { Redirect } from \"react-router-dom\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport { authAxios } from \"../../../authAxios\";\nimport { orderFilterURL } from \"../../../constants\";\nimport { useFormik, Field } from \"formik\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport setHours from \"date-fns/setHours\";\nimport setMinutes from \"date-fns/setMinutes\";\nimport Card from \"react-bootstrap/Card\"; // import Result from \"./orderList\";\n\nimport Result from \"./testTable\";\n\nvar Manage = function Manage(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      orders = _useState2[0],\n      setOrders = _useState2[1]; // const [startDate, setStartDate] = useState(new Date());\n  // const [endDate, setEndDate] = useState(new Date());\n\n\n  var _useState3 = useState(setHours(setMinutes(new Date(), 0), 0)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      startDate = _useState4[0],\n      setStartDate = _useState4[1];\n\n  var _useState5 = useState(setHours(setMinutes(new Date(), 59), 23)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      endDate = _useState6[0],\n      setEndDate = _useState6[1];\n\n  var formik = useFormik({\n    initialValues: {\n      place: \"\"\n    },\n    onSubmit: function onSubmit(values) {\n      var place = values[\"place\"] === undefined ? null : values[\"place\"];\n      var endingtDate = endDate === undefined ? null : endDate;\n      var staringtDate = startDate === undefined ? null : startDate; // this.setState({ loading: true });\n\n      console.log(endingtDate, staringtDate);\n      console.log(staringtDate);\n      authAxios.get(orderFilterURL, {\n        params: {\n          place: place,\n          staringtDate: staringtDate,\n          endingtDate: endingtDate\n        }\n      }).then(function (res) {\n        // this.setState({ orders: res.data, loading: false, success: true });\n        setOrders(res.data);\n      }).catch(function (err) {// this.setState({ loading: false, error: err });\n      });\n    }\n  });\n\n  var handleChangeStartDate = function handleChangeStartDate(date) {\n    return setStartDate(date);\n  };\n\n  var handleChangeEndtDate = function handleChangeEndtDate(date) {\n    return setEndDate(date);\n  };\n\n  var columns = [{\n    Header: \"ID\",\n    accessor: \"id\",\n    Cell: function Cell(e) {\n      return React.createElement(\"a\", {\n        href: \"order/\".concat(e.value),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" \", e.value, \" \");\n    }\n  }, {\n    Header: \"Area\",\n    accessor: \"area_name\"\n  }, {\n    Header: \"Shop\",\n    accessor: \"shop_name\"\n  }, {\n    Header: \"Status\",\n    accessor: \"orderStatus\"\n  }, {\n    Header: \"Date\",\n    accessor: \"start_date\"\n  }, {\n    Header: \"Customer\",\n    accessor: \"customer_name\"\n  }, {\n    Header: \"Mobile\",\n    accessor: \"mobile_number\"\n  }]; // const staringtDate =\n  // console.log(staringtDate);\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"register-page section-b-space\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Find Orders\"), React.createElement(\"div\", {\n    className: \"theme-card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"checkout-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"checkout-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row check-out\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group col-md-6 col-sm-6 col-xs-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"field-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Place\"), React.createElement(\"select\", {\n    id: \"place\",\n    name: \"place\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    value: formik.values.place,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Select your option\"), props.places.map(function (a) {\n    return React.createElement(\"option\", {\n      key: a.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, a);\n  })))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    ClassName: \"form-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row check-out\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group col-md-1 col-sm-2 col-xs-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    selected: startDate,\n    selectsStart: true // onChange={handleChangeStartDate}\n    ,\n    onChange: function onChange(date) {\n      return setStartDate(date);\n    },\n    dateFormat: \"dd/MMM/yy\",\n    showTimeSelect: true,\n    timeFormat: \"HH:mm\",\n    injectTimes: [setHours(setMinutes(new Date(), 1), 0), setHours(setMinutes(new Date(), 5), 12), setHours(setMinutes(new Date(), 59), 23)],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group col-md-1 col-sm-2 col-xs-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(DatePicker, {\n    selected: endDate // onChange={handleChangeEndtDate}\n    ,\n    onChange: function onChange(date) {\n      return setEndDate(date);\n    },\n    showTimeSelect: true,\n    dateFormat: \"dd/MMM/yy\",\n    timeFormat: \"HH:mm\",\n    injectTimes: [setHours(setMinutes(new Date(), 1), 0), setHours(setMinutes(new Date(), 5), 12), setHours(setMinutes(new Date(), 59), 23)],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  })))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-solid\",\n    id: \"submit\",\n    placeholder: \"search\",\n    required: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }))))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }), orders ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(Card, {\n    bg: \"secondary\",\n    style: {\n      width: \"18rem\"\n    },\n    className: \"mb-2\",\n    text: \"light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(Card.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \" \", orders.length, \" Orders \")))) : null)))), orders ? React.createElement(Result, {\n    data: orders,\n    columns: columns,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }) : null);\n};\n\nexport default Manage;","map":{"version":3,"sources":["/Users/swalihvpm/Desktop/django-react/LD-gcloud/src/components/ld/manageOrders/tableSearchForm.jsx"],"names":["React","useState","connect","authSignup","Redirect","Breadcrumb","authAxios","orderFilterURL","useFormik","Field","DatePicker","setHours","setMinutes","Card","Result","Manage","props","orders","setOrders","Date","startDate","setStartDate","endDate","setEndDate","formik","initialValues","place","onSubmit","values","undefined","endingtDate","staringtDate","console","log","get","params","then","res","data","catch","err","handleChangeStartDate","date","handleChangeEndtDate","columns","Header","accessor","Cell","e","value","handleSubmit","handleChange","places","map","a","id","width","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,QAAjC;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,IAAP,MAAiB,sBAAjB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK,EAAI;AAAA,kBACMf,QAAQ,CAAC,IAAD,CADd;AAAA;AAAA,MACfgB,MADe;AAAA,MACPC,SADO,kBAEtB;AACA;;;AAHsB,mBAKYjB,QAAQ,CACxCU,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,CAAb,CAAX,EAA4B,CAA5B,CADgC,CALpB;AAAA;AAAA,MAKfC,SALe;AAAA,MAKJC,YALI;;AAAA,mBAQQpB,QAAQ,CACpCU,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,EAAb,CAAX,EAA6B,EAA7B,CAD4B,CARhB;AAAA;AAAA,MAQfG,OARe;AAAA,MAQNC,UARM;;AAYtB,MAAMC,MAAM,GAAGhB,SAAS,CAAC;AACvBiB,IAAAA,aAAa,EAAE;AACbC,MAAAA,KAAK,EAAE;AADM,KADQ;AAIvBC,IAAAA,QAAQ,EAAE,kBAAAC,MAAM,EAAI;AAClB,UAAMF,KAAK,GAAGE,MAAM,CAAC,OAAD,CAAN,KAAoBC,SAApB,GAAgC,IAAhC,GAAuCD,MAAM,CAAC,OAAD,CAA3D;AACA,UAAME,WAAW,GAAGR,OAAO,KAAKO,SAAZ,GAAwB,IAAxB,GAA+BP,OAAnD;AACA,UAAMS,YAAY,GAAGX,SAAS,KAAKS,SAAd,GAA0B,IAA1B,GAAiCT,SAAtD,CAHkB,CAIlB;;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ,EAAyBC,YAAzB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAzB,MAAAA,SAAS,CACN4B,GADH,CACO3B,cADP,EACuB;AACnB4B,QAAAA,MAAM,EAAE;AACNT,UAAAA,KAAK,EAALA,KADM;AAENK,UAAAA,YAAY,EAAZA,YAFM;AAGND,UAAAA,WAAW,EAAXA;AAHM;AADW,OADvB,EAQGM,IARH,CAQQ,UAAAC,GAAG,EAAI;AACX;AACAnB,QAAAA,SAAS,CAACmB,GAAG,CAACC,IAAL,CAAT;AACD,OAXH,EAYGC,KAZH,CAYS,UAAAC,GAAG,EAAI,CACZ;AACD,OAdH;AAeD;AA1BsB,GAAD,CAAxB;;AA6BA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAC,IAAI;AAAA,WAAIrB,YAAY,CAACqB,IAAD,CAAhB;AAAA,GAAlC;;AACA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAD,IAAI;AAAA,WAAInB,UAAU,CAACmB,IAAD,CAAd;AAAA,GAAjC;;AAEA,MAAME,OAAO,GAAG,CACd;AACEC,IAAAA,MAAM,EAAE,IADV;AAEEC,IAAAA,QAAQ,EAAE,IAFZ;AAGEC,IAAAA,IAAI,EAAE,cAAAC,CAAC;AAAA,aAAI;AAAG,QAAA,IAAI,kBAAWA,CAAC,CAACC,KAAb,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA+BD,CAAC,CAACC,KAAjC,MAAJ;AAAA;AAHT,GADc,EAMd;AACEJ,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GANc,EAUd;AACED,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAVc,EAcd;AACED,IAAAA,MAAM,EAAE,QADV;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAdc,EAkBd;AACED,IAAAA,MAAM,EAAE,MADV;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAlBc,EAsBd;AACED,IAAAA,MAAM,EAAE,UADV;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAtBc,EA0Bd;AACED,IAAAA,MAAM,EAAE,QADV;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GA1Bc,CAAhB,CA5CsB,CA4EtB;AACA;;AAEA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAS,IAAA,SAAS,EAAC,+BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEtB,MAAM,CAAC0B,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,QAAQ,EAAE1B,MAAM,CAAC2B,YAJnB;AAKE,IAAA,KAAK,EAAE3B,MAAM,CAACI,MAAP,CAAcF,KALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAiB,IAAA,QAAQ,MAAzB;AAA0B,IAAA,QAAQ,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAPF,EAUGV,KAAK,CAACoC,MAAN,CAAaC,GAAb,CAAiB,UAAAC,CAAC;AAAA,WACjB;AAAQ,MAAA,GAAG,EAAEA,CAAC,CAACC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBD,CAApB,CADiB;AAAA,GAAlB,CAVH,CAFF,CADF,CADF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,EAqBE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,QAAQ,EAAElC,SADZ;AAEE,IAAA,YAAY,MAFd,CAGE;AAHF;AAIE,IAAA,QAAQ,EAAE,kBAAAsB,IAAI;AAAA,aAAIrB,YAAY,CAACqB,IAAD,CAAhB;AAAA,KAJhB;AAKE,IAAA,UAAU,EAAC,WALb;AAME,IAAA,cAAc,MANhB;AAOE,IAAA,UAAU,EAAC,OAPb;AAQE,IAAA,WAAW,EAAE,CACX/B,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,CAAb,CAAX,EAA4B,CAA5B,CADG,EAEXR,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,CAAb,CAAX,EAA4B,EAA5B,CAFG,EAGXR,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,EAAb,CAAX,EAA6B,EAA7B,CAHG,CARf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAiBE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,QAAQ,EAAEG,OADZ,CAEE;AAFF;AAGE,IAAA,QAAQ,EAAE,kBAAAoB,IAAI;AAAA,aAAInB,UAAU,CAACmB,IAAD,CAAd;AAAA,KAHhB;AAIE,IAAA,cAAc,MAJhB;AAKE,IAAA,UAAU,EAAC,WALb;AAME,IAAA,UAAU,EAAC,OANb;AAOE,IAAA,WAAW,EAAE,CACX/B,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,CAAb,CAAX,EAA4B,CAA5B,CADG,EAEXR,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,CAAb,CAAX,EAA4B,EAA5B,CAFG,EAGXR,QAAQ,CAACC,UAAU,CAAC,IAAIO,IAAJ,EAAD,EAAa,EAAb,CAAX,EAA6B,EAA7B,CAHG,CAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjBF,CADF,CArBF,EAyDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzDF,EA0DE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,eAFZ;AAGE,IAAA,EAAE,EAAC,QAHL;AAIE,IAAA,WAAW,EAAC,QAJd;AAKE,IAAA,QAAQ,EAAC,EALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1DF,CADF,CADF,CADF,CAFF,EA0EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1EF,EA2EGF,MAAM,GACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AACE,IAAA,EAAE,EAAE,WADN;AAEE,IAAA,KAAK,EAAE;AAAEuC,MAAAA,KAAK,EAAE;AAAT,KAFT;AAGE,IAAA,SAAS,EAAC,MAHZ;AAIE,IAAA,IAAI,EAAE,OAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAcvC,MAAM,CAACwC,MAArB,aADF,CAPF,CADF,CADK,GAcH,IAzFN,CADF,CADF,CADF,CADF,EAkGGxC,MAAM,GAAG,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEA,MAAd;AAAsB,IAAA,OAAO,EAAE2B,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAgD,IAlGzD,CADF;AAsGD,CArLD;;AAuLA,eAAe7B,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { authSignup } from \"../../../actions/auth\";\nimport { Redirect } from \"react-router-dom\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport { authAxios } from \"../../../authAxios\";\nimport { orderFilterURL } from \"../../../constants\";\nimport { useFormik, Field } from \"formik\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport setHours from \"date-fns/setHours\";\nimport setMinutes from \"date-fns/setMinutes\";\nimport Card from \"react-bootstrap/Card\";\n// import Result from \"./orderList\";\nimport Result from \"./testTable\";\n\nconst Manage = props => {\n  const [orders, setOrders] = useState(null);\n  // const [startDate, setStartDate] = useState(new Date());\n  // const [endDate, setEndDate] = useState(new Date());\n\n  const [startDate, setStartDate] = useState(\n    setHours(setMinutes(new Date(), 0), 0)\n  );\n  const [endDate, setEndDate] = useState(\n    setHours(setMinutes(new Date(), 59), 23)\n  );\n\n  const formik = useFormik({\n    initialValues: {\n      place: \"\"\n    },\n    onSubmit: values => {\n      const place = values[\"place\"] === undefined ? null : values[\"place\"];\n      const endingtDate = endDate === undefined ? null : endDate;\n      const staringtDate = startDate === undefined ? null : startDate;\n      // this.setState({ loading: true });\n      console.log(endingtDate, staringtDate);\n      console.log(staringtDate);\n      authAxios\n        .get(orderFilterURL, {\n          params: {\n            place,\n            staringtDate,\n            endingtDate\n          }\n        })\n        .then(res => {\n          // this.setState({ orders: res.data, loading: false, success: true });\n          setOrders(res.data);\n        })\n        .catch(err => {\n          // this.setState({ loading: false, error: err });\n        });\n    }\n  });\n\n  const handleChangeStartDate = date => setStartDate(date);\n  const handleChangeEndtDate = date => setEndDate(date);\n\n  const columns = [\n    {\n      Header: \"ID\",\n      accessor: \"id\",\n      Cell: e => <a href={`order/${e.value}`}> {e.value} </a>\n    },\n    {\n      Header: \"Area\",\n      accessor: \"area_name\"\n    },\n    {\n      Header: \"Shop\",\n      accessor: \"shop_name\"\n    },\n    {\n      Header: \"Status\",\n      accessor: \"orderStatus\"\n    },\n    {\n      Header: \"Date\",\n      accessor: \"start_date\"\n    },\n    {\n      Header: \"Customer\",\n      accessor: \"customer_name\"\n    },\n    {\n      Header: \"Mobile\",\n      accessor: \"mobile_number\"\n    }\n  ];\n\n  // const staringtDate =\n  // console.log(staringtDate);\n\n  return (\n    <div>\n      <section className=\"register-page section-b-space\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n              <h4>Find Orders</h4>\n              <div className=\"theme-card\">\n                <div className=\"checkout-page\">\n                  <form onSubmit={formik.handleSubmit}>\n                    <div className=\"checkout-form\">\n                      <div className=\"row check-out\">\n                        <div className=\"form-group col-md-6 col-sm-6 col-xs-12\">\n                          <div className=\"field-label\">Place</div>\n                          <select\n                            id=\"place\"\n                            name=\"place\"\n                            type=\"text\"\n                            onChange={formik.handleChange}\n                            value={formik.values.place}\n                          >\n                            <option value=\"\" disabled selected>\n                              Select your option\n                            </option>\n                            {props.places.map(a => (\n                              <option key={a.id}>{a}</option>\n                            ))}\n                          </select>\n                        </div>\n                      </div>\n                      <br></br>\n                      <div ClassName=\"form-inline\">\n                        <div className=\"row check-out\">\n                          <div className=\"form-group col-md-1 col-sm-2 col-xs-1\">\n                            <DatePicker\n                              selected={startDate}\n                              selectsStart\n                              // onChange={handleChangeStartDate}\n                              onChange={date => setStartDate(date)}\n                              dateFormat=\"dd/MMM/yy\"\n                              showTimeSelect\n                              timeFormat=\"HH:mm\"\n                              injectTimes={[\n                                setHours(setMinutes(new Date(), 1), 0),\n                                setHours(setMinutes(new Date(), 5), 12),\n                                setHours(setMinutes(new Date(), 59), 23)\n                              ]}\n                            />\n                          </div>\n                          <div className=\"form-group col-md-1 col-sm-2 col-xs-1\">\n                            <DatePicker\n                              selected={endDate}\n                              // onChange={handleChangeEndtDate}\n                              onChange={date => setEndDate(date)}\n                              showTimeSelect\n                              dateFormat=\"dd/MMM/yy\"\n                              timeFormat=\"HH:mm\"\n                              injectTimes={[\n                                setHours(setMinutes(new Date(), 1), 0),\n                                setHours(setMinutes(new Date(), 5), 12),\n                                setHours(setMinutes(new Date(), 59), 23)\n                              ]}\n                            />\n                          </div>\n                        </div>\n                      </div>\n\n                      <br></br>\n                      <input\n                        type=\"submit\"\n                        className=\"btn btn-solid\"\n                        id=\"submit\"\n                        placeholder=\"search\"\n                        required=\"\"\n                      />\n                    </div>\n                  </form>\n                </div>\n              </div>\n              <br></br>\n              {orders ? (\n                <div>\n                  <Card\n                    bg={\"secondary\"}\n                    style={{ width: \"18rem\" }}\n                    className=\"mb-2\"\n                    text={\"light\"}\n                  >\n                    {/* <Card.Header>Order for today</Card.Header> */}\n                    <Card.Body>\n                      <Card.Title> {orders.length} Orders </Card.Title>\n                    </Card.Body>\n                  </Card>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </section>\n      {orders ? <Result data={orders} columns={columns} /> : null}\n    </div>\n  );\n};\n\nexport default Manage;\n"]},"metadata":{},"sourceType":"module"}