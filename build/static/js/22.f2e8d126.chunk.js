(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{606:function(e,t,a){"use strict";a.r(t);var n=a(54),r=a(52),l=a(9),o=a(10),c=a(13),i=a(11),s=a(12),d=a(0),u=a.n(d),h=(a(107),a(19)),m=(a(30),a(4)),p=a(6),v=a(56),E=(a(62),a(41)),b=a(608),f=a(589),C=a(601),g=a(360),k=a(354),y=a(17),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={form:{id:"",title:"",title_local:"",is_available:!0,is_featured:!0,is_on_sale:!0}},a.handleChange=function(e){var t=a.state.form,l=Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.value));a.setState({form:l})},a.handlecheckBox=function(e){var t=a.state.form,l=Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.checked));a.setState({form:l})},a.handleUpdateProduct=function(e){e.preventDefault();var t=a.state.form;p.a.put(Object(m.p)(t.id),Object(n.a)({},t)).then(function(e){a.setState({}),a.props.fetchProduct(),a.props.hide(),y.toast.success("Your edit is successful")}).catch(function(e){a.setState({error:e})})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.productForm;this.setState({form:e})}},{key:"render",value:function(){var e,t=this.state.form;return console.log(t),u.a.createElement(C.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter"},u.a.createElement(C.a.Header,{closeButton:!0},u.a.createElement(C.a.Title,null,"Edit Item")),u.a.createElement(C.a.Body,null,u.a.createElement(g.a,null,u.a.createElement(k.a,null,u.a.createElement(k.a.Group,{controlId:"title"},u.a.createElement(k.a.Label,null,"Item Name"),u.a.createElement(k.a.Control,{type:"text",name:"title",value:t.title||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"title"},u.a.createElement(k.a.Label,null,"Local Name"),u.a.createElement(k.a.Control,{type:"text",name:"title_local",value:t.title_local||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"formBasicCheckbox"},u.a.createElement(k.a.Check,{type:"checkbox",name:"is_available",label:"In stock",checked:t.is_available,onChange:this.handlecheckBox})),u.a.createElement(k.a.Group,{controlId:"formBasicCheckbox"},u.a.createElement(k.a.Check,(e={type:"checkbox",label:"Feautured product",checked:t.is_featured,name:"is_featured"},Object(r.a)(e,"checked",t.is_featured),Object(r.a)(e,"onChange",this.handlecheckBox),e))),u.a.createElement(k.a.Group,{controlId:"formBasicCheckbox"},u.a.createElement(k.a.Check,{type:"checkbox",label:"On sale",name:"is_on_sale",checked:t.is_on_sale,onChange:this.handlecheckBox}))))),u.a.createElement(C.a.Footer,null,u.a.createElement(v.a,{onClick:this.props.hide,variant:"secondary"},"Close"),u.a.createElement(v.a,{onClick:this.handleUpdateProduct,variant:"primary"},"Save")))}}]),t}(u.a.Component),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",price:"",discount_price:"",is_available:!0},a.handleChange=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.handleCheckBox=function(e){a.setState(Object(r.a)({},e.target.name,e.target.checked))},a.handleCreateVariation=function(e){e.preventDefault();var t=a.props.item,n=a.state,r=n.name,l=n.price,o=n.discount_price,c=n.is_available;p.a.post(m.bb,{item:t,name:r,price:l,discount_price:o,is_available:c}).then(function(e){a.setState({loading:!1}),y.toast.success("Variation added"),a.props.HideAddVariationModal(),a.props.fetchProductDetails()}).catch(function(e){y.toast.error("error")})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.price,n=e.discount_price,r=e.is_available;return u.a.createElement(C.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter"},u.a.createElement(C.a.Header,{closeButton:!0},u.a.createElement(C.a.Title,null,"Add a Variation")),u.a.createElement(C.a.Body,null,u.a.createElement(g.a,null,u.a.createElement(k.a,null,u.a.createElement(k.a.Group,{controlId:"name"},u.a.createElement(k.a.Label,null,"Name (KG|Color|Size)"),u.a.createElement(k.a.Control,{type:"text",name:"name",value:t||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"mrp"},u.a.createElement(k.a.Label,null,"MRP"),u.a.createElement(k.a.Control,{type:"text",name:"price",value:a||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"pric"},u.a.createElement(k.a.Label,null,"Price"),u.a.createElement(k.a.Control,{type:"text",name:"discount_price",value:n||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"is_available"},u.a.createElement(k.a.Check,{type:"checkbox",name:"vis_available",label:"In stock",checked:r,onChange:this.handleCheckBox}))))),u.a.createElement(C.a.Footer,null,u.a.createElement(v.a,{onClick:this.props.HideAddVariationModal,variant:"secondary"},"Close"),u.a.createElement(v.a,{onClick:this.handleCreateVariation,variant:"primary"},"Save")))}}]),t}(u.a.Component),_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={variationForm:{item:"",id:"",name:"",price:"",discount_price:"",is_available:!0}},a.handleChange=function(e){var t=a.state.variationForm,l=Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.value));a.setState({variationForm:l})},a.handlecheckBox=function(e){var t=a.state.variationForm,l=Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.checked));a.setState({variationForm:l})},a.handleUpdateVariation=function(e){e.preventDefault();var t=a.props.item,r=a.state.variationForm;p.a.put(Object(m.r)(r.id),Object(n.a)({},r,{item:t})).then(function(e){a.setState({saving:!1,success:!0}),a.props.hideEdit()}).catch(function(e){a.setState({error:e})})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.variation;this.setState({variationForm:e})}},{key:"render",value:function(){var e=this.state.variationForm;return u.a.createElement(C.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter"},u.a.createElement(C.a.Header,{closeButton:!0},u.a.createElement(C.a.Title,null,"Edit Product Variation")),u.a.createElement(C.a.Body,null,u.a.createElement(g.a,null,u.a.createElement(k.a,null,u.a.createElement(k.a.Group,{controlId:"name"},u.a.createElement(k.a.Label,null,"Name (KG|Color|Size)"),u.a.createElement(k.a.Control,{type:"text",name:"name",value:e.name||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"mrp"},u.a.createElement(k.a.Label,null,"MRP"),u.a.createElement(k.a.Control,{type:"text",name:"price",value:e.price||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"discountprice"},u.a.createElement(k.a.Label,null,"Price"),u.a.createElement(k.a.Control,{type:"text",name:"discount_price",value:e.discount_price||"",onChange:this.handleChange})),u.a.createElement(k.a.Group,{controlId:"in-stock"},u.a.createElement(k.a.Check,{type:"checkbox",name:"is_available",label:"In stock",checked:e.is_available,onChange:this.handleCheckBox}))))),u.a.createElement(C.a.Footer,null,u.a.createElement(v.a,{onClick:this.props.hideEdit,variant:"secondary"},"Close"),u.a.createElement(v.a,{onClick:this.handleUpdateVariation,variant:"primary"},"Save")))}}]),t}(u.a.Component),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={editMode:!1},a.showEdit=function(){a.setState({editMode:!0})},a.hideEdit=function(){a.setState({editMode:!1})},a.handleDeleteVariation=function(e){e.preventDefault();var t=a.props.variation;p.a.delete(Object(m.q)(t.id)).then(function(e){a.setState({loading:!1}),y.toast.error("Variation deleted"),a.props.fetchProductDetails()}).catch(function(e){y.toast.error("error")})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.variation,a=e.item;return u.a.createElement("div",null,this.state.editMode?u.a.createElement(_,{show:this.state.editMode,variation:t,item:a,hideEdit:this.hideEdit}):null,u.a.createElement(E.a,{bg:"Light",text:"light",style:{width:"18rem"},className:"mb-2"},u.a.createElement(E.a.Body,null,u.a.createElement(E.a.Text,null,u.a.createElement(b.a,{className:"list-group-flush"},u.a.createElement(f.a,null,"Name: ",t.name),u.a.createElement(f.a,null,"MRP: ",t.price),u.a.createElement(f.a,null,"Price: ",t.discount_price),u.a.createElement(f.a,null,"In Stock: ",t.is_available?"Yes":"No"))),u.a.createElement(v.a,{onClick:this.showEdit,variant:"outline-primary",size:"sm"},"edit")," ",u.a.createElement(v.a,{onClick:this.handleDeleteVariation,variant:"outline-danger",size:"sm"},"Delete")," ")))}}]),t}(u.a.Component),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={productForm:{id:"",title:"",title_local:"",is_in_stock:!1,is_featured:!1,is_on_sale:!1},editProductMode:!1,addVariationModal:!1,product:"",item:"",loading:!1,vName:"",vMRP:"",vPrice:"",vis_available:!0},a.showAddVariationModal=function(){a.setState({addVariationModal:!0})},a.HideAddVariationModal=function(){a.setState({addVariationModal:!1})},a.editModalShow=function(){a.setState({editProductMode:!0})},a.editModalHide=function(){a.setState({editProductMode:!1})},a.handleChange=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.handleChangeCheckBox=function(e){a.setState(Object(r.a)({},e.target.name,e.target.checked))},a.handleChangeProductForm=function(e){var t=a.state.productForm,l=Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.value));a.setState({productForm:l})},a.handlecheckBox=function(e){var t=a.state.productForm,l=Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.checked));a.setState({productForm:l})},a.fetchProductDetails=function(){var e=a.props.match.params;a.setState({loading:!0}),p.a.get(Object(m.X)(e.productID)).then(function(e){a.setState({product:e.data,productForm:e.data,loading:!1})}).catch(function(e){a.setState({error:e,success:!1,loading:!1})})},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchProductDetails()}},{key:"render",value:function(){var e=this,t=this.state,a=t.product,n=t.addVariationModal,r=t.editProductMode,l=t.productForm;return u.a.createElement("section",{className:"section-b-space"},u.a.createElement("div",{className:"container"},r?u.a.createElement(O,{show:r,productForm:l,hide:this.editModalHide,fetchProduct:this.fetchProductDetails}):null,u.a.createElement(E.a,{style:{width:"18rem"}},u.a.createElement(E.a.Img,{variant:"top",src:a.image}),u.a.createElement(E.a.Body,null,u.a.createElement(E.a.Title,null,a.title),u.a.createElement(E.a.Text,null,a.title_local),u.a.createElement(E.a.Text,null,"Product ID:",a.id),u.a.createElement(v.a,{onClick:this.editModalShow,variant:"outline-primary",size:"sm"},"edit")," "),u.a.createElement(b.a,{className:"list-group-flush"},u.a.createElement(f.a,null,"In Stock: ",a.is_available?"Yes":"No"),u.a.createElement(f.a,null,"Featured: ",a.is_featured?"Yes":"No"),u.a.createElement(f.a,null,"Is on Sale: ",a.is_on_sale?"Yes":"No")),u.a.createElement(E.a.Body,null,u.a.createElement(v.a,{onClick:this.showAddVariationModal,variant:"outline-secondary"},"Add a variation")," ")),n?u.a.createElement(j,{item:a.id,show:n,HideAddVariationModal:this.HideAddVariationModal,handleChange:this.handleChange,handleChangeCheckBox:this.handleChangeCheckBox}):null,a.variations?u.a.createElement(u.a.Fragment,null,a.variations.map(function(t,n){return u.a.createElement(S,{item:a.id,key:n,variation:t,fetchProductDetails:e.fetchProductDetails})})):null))}}]),t}(d.Component);t.default=Object(h.connect)(function(e){return{user:e.user}})(x)}}]);
//# sourceMappingURL=22.f2e8d126.chunk.js.map