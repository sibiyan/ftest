(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{335:function(e,t){},336:function(e,t){},337:function(e,t){},342:function(e,t){},343:function(e,t){},363:function(e,t){},365:function(e,t){},406:function(e,t,a){"use strict";a.r(t);var n=a(273),c=a(6),l=a(7),o=a(9),i=a(8),s=a(10),r=a(125),u=a(0),m=a.n(u),d=a(40),f=a.n(d),h=a(85),E=(a(168),a(5)),v=a(14),p=a(13),g=(a(48),a(167)),y=(a(122),a(16)),b=a(15),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).addToWishList=function(e){a.setState({loading:!0}),v.a.post(E.a,{place:e}).then(function(e){a.setState({loading:!1}),p.toast.success("This locality added to your favorites")}).catch(function(e){401===e.response.status?(p.toast.error("Please login to add to favorites"),a.setState({loading:!1})):400===e.response.status?(p.toast.error("This locality already exists in your favorites"),a.setState({loading:!1})):p.toast.error("An error occured")})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.locality;return m.a.createElement("div",{className:"product-box"},m.a.createElement("div",{className:"img-wrapper"},m.a.createElement("div",{className:"front"},m.a.createElement(g.a,{to:"".concat("","/places/").concat(t.id)},m.a.createElement("img",{src:"".concat(E.H).concat(t.image),className:"img-fluid",alt:""}))),m.a.createElement("div",{className:"cart-info cart-wrap"},m.a.createElement("button",{title:"Add to cart",onClick:function(){return e.addToWishList(t.id)}},m.a.createElement("i",null,m.a.createElement(b.a,{icon:y.c,size:"lg",color:"#ff4c3b"}))))),m.a.createElement("div",{className:"product-detail"},m.a.createElement("div",null,m.a.createElement(g.a,{to:"".concat("","/places/").concat(t.id)},m.a.createElement("h4",null,t.name)),m.a.createElement("br",null),m.a.createElement("h6",null,t.village_name," Village"))))}}]),t}(u.Component),w=(u.Component,a(334),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).fetchlaces=function(){a.setState({loading:!0},function(){var e=a.state,t=e.offset,c=e.limit,l=e.query;f.a.get(E.X+"?limit=".concat(c,"&offset=").concat(t,"&q=").concat(l)).then(function(e){var l=e.data.places,o=e.data.has_more;a.setState({hasMore:o,loading:!1,localities:Object(n.a)(a.state.localities).concat(Object(n.a)(l)),newLocalities:e.data.places,offset:t+c})}).catch(function(e){a.setState({error:e.message,loading:!1})})})},a.setQuery=function(e){a.setState({query:e.target.value}),a.callbacktest()},a.callbacktest=function(){console.log(a.state.query)},a.addToWishList=function(e){a.setState({loading:!0}),v.a.post(E.a,{place:e}).then(function(e){a.setState({loading:!1}),p.toast.success("This locality added to your favorites")}).catch(function(e){a.setState({error:e,loading:!1}),p.toast.error("This locality already exists in your favorites")})},a.state={loading:!1,error:null,localities:[],hasMore:!0,offset:0,limit:2,query:"all",newLocalities:[]},window.onscroll=function(){var e=Object(r.a)(Object(r.a)(a)),t=e.fetchlaces,n=e.state,c=n.error,l=n.loading,o=n.hasMore;c||l||!o||document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&t()},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#"),this.fetchlaces()}},{key:"render",value:function(){var e=this.state,t=e.localities;e.query,e.hasMore;return m.a.createElement("div",null,m.a.createElement(h.Helmet,null,m.a.createElement("title",null,"Local Dukans")),m.a.createElement(p.ToastContainer,null),this.state.loading&&m.a.createElement("div",{className:"loading-cls"}),t&&m.a.createElement("section",{className:"ratio_asos metro-section portfolio-section light-layout section-b-space"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("div",{className:"title4"},m.a.createElement("br",null),m.a.createElement("h2",{className:"title-inner4"}," Localities"),m.a.createElement("div",{className:"line"},m.a.createElement("span",null)))))),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("div",{className:"no-slider row"},t.map(function(e,t){return m.a.createElement(N,{locality:e,key:t})})))))))}}]),t}(m.a.PureComponent));t.default=w}}]);
//# sourceMappingURL=11.4356ec40.chunk.js.map