{"version":3,"sources":["components/ld/localityList/locality.jsx","components/ld/localityList/search.jsx","components/ld/localityList/main.jsx"],"names":["ProductStyleFour","addToWishList","place","_this","setState","loading","authAxios","post","AddToFavoritePlacesURL","then","res","toast","success","catch","err","response","status","error","_this2","this","locality","props","react_default","a","createElement","className","Link","to","concat","process","id","src","localhost","image","alt","title","onClick","react_fontawesome_index_es","icon","faHeart","size","color","name","village_name","Component","Search","state","query","results","offset","limit","getInfo","_this$state","axios","get","placeListURL","data","places","handleInputChange","search","value","length","type","aria-label","placeholder","ref","input","onChange","autoComplete","faSearch","map","i","style","display","key","tabIndex","LocalityList","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","fetchlaces","newLocalities","hasMore","has_more","localities","toConsumableArray","message","setQuery","e","target","callbacktest","console","log","window","onscroll","_assertThisInitialize","assertThisInitialized","_assertThisInitialize2","document","documentElement","scrollHeight","scrollTop","clientHeight","getElementById","setAttribute","_this$state2","Helmet","lib","index","localityList_locality","React","PureComponent"],"mappings":"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","file":"static/js/25.0cea52ca.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"react-responsive-modal\";\nimport { localhost } from \"../../../constants\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { AddToFavoritePlacesURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass ProductStyleFour extends Component {\n  addToWishList = place => {\n    this.setState({ loading: true });\n    authAxios\n      .post(AddToFavoritePlacesURL, { place })\n      .then(res => {\n        this.setState({ loading: false });\n        toast.success(\"This locality added to your favorites\");\n      })\n      .catch(err => {\n        if (err.response.status === 401) {\n          toast.error(\"Please login to add to favorites\");\n          this.setState({ loading: false });\n        } else if (err.response.status === 400) {\n          toast.error(\"This locality already exists in your favorites\");\n          this.setState({ loading: false });\n        } else {\n          toast.error(\"An error occured\");\n        }\n      });\n  };\n  render() {\n    const { locality } = this.props;\n    // console.log(locality);\n\n    return (\n      <div className=\"product-box\">\n        <div className=\"img-wrapper\">\n          <div className=\"front\">\n            <Link to={`${process.env.PUBLIC_URL}/places/${locality.id}`}>\n              <img\n                src={`${localhost}${locality.image}`}\n                className=\"img-fluid\"\n                alt=\"\"\n              />\n            </Link>\n          </div>\n          <div className=\"cart-info cart-wrap\">\n            <button\n              title=\"Add to cart\"\n              onClick={() => this.addToWishList(locality.id)}\n            >\n              {/* <i className=\"fa fa-heart\" aria-hidden=\"true\"></i> */}\n              <i>\n                <FontAwesomeIcon icon={faHeart} size={\"lg\"} color={\"#ff4c3b\"} />\n                {/* <FontAwesomeIcon icon={faHeart} /> */}\n              </i>\n            </button>\n          </div>\n        </div>\n        <div className=\"product-detail\">\n          <div>\n            <Link to={`${process.env.PUBLIC_URL}/places/${locality.id}`}>\n              <h4>{locality.name}</h4>\n            </Link>\n            <br />\n\n            <h6>{locality.village_name} Village</h6>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductStyleFour;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n// import style from \"./searchStyle.css\";\nimport { placeListURL } from \"../../../constants\";\n\nclass Search extends Component {\n  state = {\n    error: false,\n    query: \"all\",\n    results: [],\n    offset: 0,\n    limit: 20\n    // display: false,\n    // displayResult: false\n  };\n\n  getInfo = () => {\n    const { offset, limit, query } = this.state;\n    axios\n      .get(placeListURL + `?limit=${limit}&offset=${offset}&q=${query}`)\n      .then(res => {\n        this.setState({ results: res.data.places, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleInputChange = () => {\n    this.setState(\n      {\n        query: this.search.value\n      },\n      () => {\n        if (this.state.query && this.state.query.length > 1) {\n          // this.hideResult();\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {\n          // this.hideDropdown()\n        }\n      }\n    );\n  };\n\n  render() {\n    const { results } = this.state;\n    // console.log(displayResult);\n\n    return (\n      <section className=\"authentication-page section-b-space\">\n        <div className=\"container\">\n          <section className=\"search-block\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-lg-6 offset-lg-3\">\n                  <form className=\"form-header\">\n                    <div className=\"input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        aria-label=\"Amount (to the nearest dollar)\"\n                        placeholder=\"Search Localities......\"\n                        name=\"query\"\n                        ref={input => (this.search = input)}\n                        onChange={this.handleInputChange}\n                        autoComplete=\"off\"\n                      />\n                      <div className=\"input-group-append\">\n                        <button className=\"btn btn-solid\">\n                          {/* <i className=\"fa fa-search\"></i>Search */}\n                          <i>\n                            <FontAwesomeIcon icon={faSearch} />\n                          </i>\n                        </button>\n                      </div>\n                    </div>\n                    {/* {display ? ( */}\n                    <div>\n                      {results.map((value, i) => {\n                        // console.log(123);\n                        return (\n                          <div\n                            style={{\n                              display:\n                                this.state.query && this.state.query.length > 1\n                                  ? \"\"\n                                  : \"none\"\n                            }}\n                            className=\"option\"\n                            key={i}\n                            tabIndex=\"0\"\n                          >\n                            <Link\n                              to={`${process.env.PUBLIC_URL}/places/${value.id}`}\n                            >\n                              <span>{value.name}</span>\n                            </Link>\n                          </div>\n                        );\n                      })}\n                    </div>\n                    {/* ) : (\n                      \"\"\n                    )} */}\n                  </form>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Helmet } from \"react-helmet\";\nimport \"../../common/index.scss\";\n// import Slider from \"react-slick\";\n// import { Link } from \"react-router-dom\";\n// import { Slider3 } from \"../../../services/script\";\nimport { AddToFavoritePlacesURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import { faHeart } from \"@fortawesome/free-solid-svg-icons\";\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n// import { Img } from \"react-image\";\nimport Locality from \"./locality\";\n// import { Product4, Product5 } from \"../../../services/script\";\n\nimport Search from \"./search\";\nimport { placeListURL, localhost } from \"../../../constants\";\nimport { isTemplateExpression } from \"typescript\";\n\nclass LocalityList extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: null,\n      localities: [],\n      // journals: [],\n      hasMore: true,\n      offset: 0,\n      limit: 2,\n      query: \"all\",\n      newLocalities: []\n    };\n    window.onscroll = () => {\n      const {\n        fetchlaces,\n        state: { error, loading, hasMore }\n      } = this;\n      if (error || loading || !hasMore) return;\n      if (\n        document.documentElement.scrollHeight -\n          document.documentElement.scrollTop ===\n        document.documentElement.clientHeight\n      ) {\n        // call some loading method\n        fetchlaces();\n      }\n    };\n  }\n\n  // componentWillMount() {\n  //   this.fetchlaces();\n  // }\n\n  componentDidMount() {\n    document.getElementById(\"color\").setAttribute(\"href\", `#`);\n    this.fetchlaces();\n  }\n\n  fetchlaces = () => {\n    this.setState({ loading: true }, () => {\n      const { offset, limit, query } = this.state;\n      // console.log(query);\n      axios\n        .get(placeListURL + `?limit=${limit}&offset=${offset}&q=${query}`)\n        .then(res => {\n          const newLocalities = res.data.places;\n          const hasMore = res.data.has_more;\n          this.setState({\n            hasMore,\n            loading: false,\n            localities: [...this.state.localities, ...newLocalities],\n            newLocalities: res.data.places,\n            offset: offset + limit\n          });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  };\n\n  setQuery = e => {\n    this.setState({ query: e.target.value });\n    this.callbacktest();\n  };\n\n  callbacktest = () => {\n    console.log(this.state.query);\n  };\n\n  // handleSearch = e => {\n  //   e.preventDefault();\n  //   this.fetchlaces();\n  // };\n\n  addToWishList = place => {\n    this.setState({ loading: true });\n    authAxios\n      // .post(AddToFavoritePlacesURL  { shop })\n      .post(AddToFavoritePlacesURL, { place })\n      .then(res => {\n        this.setState({ loading: false });\n        toast.success(\"This locality added to your favorites\");\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n        toast.error(\"This locality already exists in your favorites\");\n      });\n  };\n\n  render() {\n    const { localities, query, hasMore } = this.state;\n    // console.log(localities);\n\n    return (\n      <div>\n        <Helmet>\n          <title>Local Dukans</title>\n        </Helmet>\n        <ToastContainer />\n        {this.state.loading && <div className=\"loading-cls\"></div>}\n        {/* <HeaderTwo logoName={\"logo.png\"} /> */}\n        <Search />\n\n        {localities && (\n          <section className=\"ratio_asos metro-section portfolio-section light-layout section-b-space\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <div className=\"title4\">\n                    <br></br>\n                    <h2 className=\"title-inner4\"> Localities</h2>\n                    <div className=\"line\">\n                      <span></span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <div className=\"no-slider row\">\n                    {/* <Slider\n                    {...Product4}\n                    className=\"product-4 product-m no-arrow\"\n                  > */}\n                    {localities.map((locality, index) => (\n                      <Locality locality={locality} key={index} />\n                    ))}\n                    {/* </Slider> */}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default LocalityList;\n"],"sourceRoot":""}