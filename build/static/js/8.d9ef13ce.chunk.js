(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{399:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return n})},605:function(e,t,a){"use strict";a.r(t);var n=a(399),r=a(10),c=a(11),l=a(13),o=a(12),s=a(14),i=a(0),u=a.n(i),d=a(110),m=a(19),p=(a(214),a(7)),h=a(9),f=a(8),g=a.n(f),v=a(15),b=u.a.forwardRef(function(e,t){var a,n=e.as,r=void 0===n?"div":n,c=e.className,l=e.fluid,o=e.bsPrefix,s=Object(h.a)(e,["as","className","fluid","bsPrefix"]),i=((a={})[o=Object(v.a)(o,"jumbotron")]=!0,a[o+"-fluid"]=l,a);return u.a.createElement(r,Object(p.a)({ref:t},s,{className:g()(c,i)}))});b.defaultProps={fluid:!1},b.displayName="Jumbotron";var E=b,y=a(163),N=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"container"},u.a.createElement("section",{className:"service section-b-space  border-section border-top-0"},u.a.createElement("div",{className:"row "},u.a.createElement("div",{className:"col-lg-3 col-md-6 service-block1 "},u.a.createElement("div",{dangerouslySetInnerHTML:{__html:y.d}}),u.a.createElement("h4",null,"Offer"),u.a.createElement("p",null,this.props.message)))))}}]),t}(i.Component),O=a(37),j=a.n(O),C=a(83),S=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("div",{className:"container"},u.a.createElement("section",{className:"service section-b-space  border-section border-top-0"},u.a.createElement("div",{className:"row "},u.a.createElement("div",{className:"col-lg-3 col-md-6 service-block1 "},u.a.createElement("div",{dangerouslySetInnerHTML:{__html:y.c}}),u.a.createElement("h4",null,"shipping message"),u.a.createElement("p",null,this.props.message))))))}}]),t}(i.Component),k=a(381),P=a.n(k),_=a(23),w=a(4),V=a(39),D=a(38),A=a(6),I=a(17),M=(a(62),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={loading:!1,selectedVariationID:"",selectedVariationName:"",selectedVariationMRP:"",selectedVariationPrice:""},a.setDefaultVariation=function(){if(a.props.variations&&"undefined"!==typeof a.props.variations[0]){var e=a.props.variations[0].name,t=a.props.variations[0].id,n=a.props.variations[0].price,r=a.props.variations[0].discount_price;a.setState({selectedVariationName:e,selectedVariationID:t,selectedVariationMRP:n,selectedVariationPrice:r})}},a.handleAddToCart=function(e,t,n){console.log(n),null!==a.props.token?(a.setState({loading:!0}),A.a.post(w.u,{id:e,shop:t,variation:n}).then(function(e){I.toast.success("item added to cart"),a.props.refreshCart(),a.setState({loading:!1})}).catch(function(e){400===e.response.status?(a.setState({error:e,loading:!1}),I.toast.error("You have an active order from a different shop")):401===e.response.status?I.toast.error("Please login"):(a.setState({error:e,loading:!1}),I.toast.error("Oops there was an error"))})):(a.setState({loading:!1}),I.toast.error("To add item into your cart, please login"))},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setDefaultVariation()}},{key:"render",value:function(){var e=this,t=this.props,a=t.product,n=t.variations,r=t.defaultOption;return u.a.createElement("div",{className:"product-box"},this.state.loading&&u.a.createElement("div",{className:"loading-cls"}),u.a.createElement("div",{className:"img-wrapper"},u.a.createElement("div",{className:"lable-block"},1==a.is_featured?u.a.createElement("span",{className:"lable3"},"new"):"",1==a.is_on_sale?u.a.createElement("span",{className:"lable3"},"sale"):"",!0!==a.is_available?u.a.createElement("span",{className:"lable4"},"Out of stock"):""),u.a.createElement("div",{className:"front"},u.a.createElement("img",{src:"".concat(w.G).concat(a.product_image),className:"img-fluid",alt:""})),u.a.createElement("div",{className:"cart-info cart-wrap"},a.is_available?u.a.createElement("button",{title:"Add to cart",onClick:function(){return e.handleAddToCart(a.id,a.shop,e.state.selectedVariationID)}},u.a.createElement("i",null,u.a.createElement(D.a,{icon:V.i,size:"lg",color:"#ff4c3b"}))):null)),u.a.createElement("div",{className:"product-detail"},u.a.createElement("div",null,u.a.createElement("div",{className:"rating"},""),a.title_local?u.a.createElement("h6",null,a.title_local):u.a.createElement("h6",null,a.title),u.a.createElement("h4",null,"Rs: "," ",this.state.selectedVariationPrice," ",u.a.createElement("del",null,u.a.createElement("span",{className:"money"},"  MRP ",this.state.selectedVariationMRP))),u.a.createElement("br",null),r?u.a.createElement(u.a.Fragment,null,r.name&&u.a.createElement(_.a,{options:n,getOptionLabel:function(e){return"".concat(e.name)},value:n.filter(function(t){return t.name===e.state.selectedVariationName}),onChange:function(t){return e.handleChangeVariation(t)},isSearchable:!1})):null)))}}]),t}(i.Component)),T=Object(m.connect)(null,function(e){return{refreshCart:function(){return e(Object(C.b)())}}})(M),R=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.fProducts;return u.a.createElement("div",null,u.a.createElement("section",{className:"section-b-space addtocart_count ratio_square"},u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},u.a.createElement("div",{className:"title4"},u.a.createElement("h2",{className:"title-inner4"},"Sale"),u.a.createElement("div",{className:"line"},u.a.createElement("span",null))),u.a.createElement(P.a,Object.assign({},y.a,{className:"product-4 product-m no-arrow"}),e.map(function(e){var t=e.variations,a=e.variations[0];return u.a.createElement("div",{key:e.id,className:"col-xl-3 col-md-6 col-grid-box"},u.a.createElement(T,{product:e,key:e.id,variations:t,defaultOption:a}))})))))))}}]),t}(i.Component),q=(a(165),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,openQuantity:!1,stock:"InStock",quantity:0,image:"",notLoggedIn:!1,cartItems:null,error:null},a.handleFetchOrder=function(){a.setState({loading:!0}),A.a.get(w.S).then(function(e){a.setState({cartItems:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.handleAddToCart=function(e,t){console.log(a.props.token),null!==a.props.token?(a.setState({loading:!0}),A.a.post(w.u,{id:e,shop:t}).then(function(e){I.toast.success("item added to cart"),a.props.refreshCart(),a.setState({loading:!1})}).catch(function(e){400===e.response.status?I.toast.error("You have an active order from a different shop"):401===e.response.status?I.toast.error("Please login"):(a.setState({error:e,loading:!1}),I.toast.error("Oops there was an error"))})):(a.setState({loading:!1}),I.toast.error("To add item into your cart, please login"))},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.product;t.token;return u.a.createElement("div",{className:"product-box"},u.a.createElement(I.ToastContainer,null),u.a.createElement("div",{className:"img-wrapper"},u.a.createElement("div",{className:"lable-block"},0==a.is_available?u.a.createElement("span",{className:"lable3"},"Out of Stock"):"",1==a.is_on_sale?u.a.createElement("span",{className:"lable4"},"Sale"):""),u.a.createElement("div",{className:"front"},u.a.createElement("img",{src:"".concat(w.G).concat(a.product_image),className:"img-fluid lazyload bg-img",alt:""})),!0===a.is_available?u.a.createElement("div",{className:"addtocart_btn"},u.a.createElement("button",{className:"add-button add_cart",title:"Add to cart",onClick:function(){return e.handleAddToCart(a.id,a.shop)}},"add to cart")):null),u.a.createElement("div",{className:"product-detail text-center"},u.a.createElement("div",null,u.a.createElement("h4",null,a.title," [",a.quantity,"]"),u.a.createElement("h6",null,"Price: Rs",a.price,u.a.createElement("del",null)),u.a.createElement("br",null))))}}]),t}(i.Component)),x=(Object(m.connect)(function(e){return{token:e.auth.token}},function(e){return{refreshCart:function(){return e(Object(C.b)())},clearKart:function(){return e(C.a)}}})(q),a(215)),L=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={loading:!1,selectedVariationID:"",selectedVariationName:"",selectedVariationMRP:"",selectedVariationPrice:""},a.setDefaultVariation=function(){if(a.props.variations&&"undefined"!==typeof a.props.variations[0]){var e=a.props.variations[0].name,t=a.props.variations[0].id,n=a.props.variations[0].price,r=a.props.variations[0].discount_price;a.setState({selectedVariationName:e,selectedVariationID:t,selectedVariationMRP:n,selectedVariationPrice:r})}},a.handleAddToCart=function(e,t,n){null!==a.props.token?(a.setState({loading:!0}),A.a.post(w.u,{id:e,shop:t,variation:n}).then(function(e){I.toast.success("item added to cart"),a.props.refreshCart(),a.setState({loading:!1})}).catch(function(e){e.response&&(400===e.response.status?(a.setState({loading:!1}),I.toast.error("You have an active order from a different shop")):401===e.response.status?(a.setState({loading:!1}),I.toast.error(" please login or refresh")):(a.setState({loading:!1}),I.toast.error("Oops there was an error")))})):(a.setState({loading:!1}),I.toast.error("Please login"))},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setDefaultVariation()}},{key:"handleChangeVariation",value:function(e){this.setState({selectedVariationID:e.id,selectedVariationName:e.name})}},{key:"render",value:function(){var e=this,t=this.props,a=t.product,n=t.variations,r=t.defaultOption;return u.a.createElement("div",{className:"product-box"},u.a.createElement(I.ToastContainer,null),this.state.loading&&u.a.createElement("div",{className:"loading-cls"}),u.a.createElement("div",{className:"img-wrapper"},u.a.createElement("div",{className:"lable-block"},1==a.is_featured?u.a.createElement("span",{className:"lable3"},"new"):"",1==a.is_on_sale?u.a.createElement("span",{className:"lable3"},"sale"):"",!0!==a.is_available?u.a.createElement("span",{className:"lable4"},"Out of stock"):""),u.a.createElement("div",{className:"front"},u.a.createElement(x.Img,{loading:"lazy",className:"img-fluid lazyload bg-img",src:"".concat(w.G).concat(a.product_image),loader:u.a.createElement("div",{className:"loading-cls"})}))),u.a.createElement("div",{className:"product-detail"},u.a.createElement("div",null,u.a.createElement("div",{className:"rating"}," "),a.title_local?u.a.createElement("h6",null,a.title_local):u.a.createElement("h6",null,a.title),u.a.createElement("h4",null,"Rs: "," ",this.state.selectedVariationPrice," ",u.a.createElement("del",null,u.a.createElement("span",{className:"money"},"  MRP ",this.state.selectedVariationMRP))),u.a.createElement("br",null),r?u.a.createElement(u.a.Fragment,null,r.name&&u.a.createElement(_.a,{options:n,getOptionLabel:function(e){return"".concat(e.name)},value:n.filter(function(t){return t.name===e.state.selectedVariationName}),onChange:function(t){return e.handleChangeVariation(t)},isSearchable:!1})):null,u.a.createElement("div",{className:"cart-bottom"},a.is_available?u.a.createElement("button",{title:"Add to cart",onClick:function(){return e.handleAddToCart(a.id,a.shop,e.state.selectedVariationID)}},u.a.createElement("i",null,u.a.createElement(D.a,{icon:V.i,size:"lg",color:"#ff4c3b"}))):null))))}}]),t}(i.Component),F=Object(m.connect)(null,function(e){return{refreshCart:function(){return e(Object(C.b)())}}})(L),z=(a(112),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.products;return u.a.createElement("div",null,u.a.createElement("section",{className:"ratio_asos absolute-product section-b-space"},u.a.createElement("div",{className:"title4"},u.a.createElement("h2",{className:"title-inner4"},"Products"),u.a.createElement("div",{className:"line"},u.a.createElement("span",null))),u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col"},u.a.createElement("div",{className:"no-slider row"},e.map(function(e){var t=e.variations,a=e.variations[0];return u.a.createElement(F,{product:e,key:e.id,variations:t,defaultOption:a})})),this.props.loading?u.a.createElement("div",{className:"loading-cls"}):u.a.createElement(u.a.Fragment,null," ",this.props.hasmore?u.a.createElement("p",{onClick:this.props.fetchProducts,className:"seen-cls seen-it-cls"},u.a.createElement("b",null,"Load More")):u.a.createElement("p",{className:"seen-cls seen-it-cls"},u.a.createElement("b",null,"No more products"))))))))}}]),t}(i.Component)),G=Object(m.connect)(function(e){return{cartItems:e.cart.shoppingCart}},function(e){return{refreshCart:function(){return e(Object(C.b)())}}})(z),H=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).addToWishList=function(e){a.setState({loading:!0}),A.a.post(w.a,{place:e}).then(function(e){a.setState({loading:!1}),I.toast.success("This locality added to your favorites")}).catch(function(e){401===e.response.status?(I.toast.error("Please login to add to favorites"),a.setState({loading:!1})):400===e.response.status?(I.toast.error("This locality already exists in your favorites"),a.setState({loading:!1})):I.toast.error("An error occured")})},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.ShopDetail;return u.a.createElement("div",{className:"product-box"},u.a.createElement("div",{className:"img-wrapper"},u.a.createElement("div",{className:"front"},u.a.createElement("img",{src:t.image,className:"img-fluid",alt:"place-image",loading:"lazy"})),u.a.createElement("div",{className:"cart-info cart-wrap"},u.a.createElement("button",{title:"Add to cart",onClick:function(){return e.addToWishList(t.id)}},u.a.createElement("i",null,u.a.createElement(D.a,{icon:V.d,size:"lg",color:"#ff4c3b"}))))),u.a.createElement("div",{className:"product-detail"},u.a.createElement("div",null,u.a.createElement("h2",null,t.name),u.a.createElement("br",null)),u.a.createElement("h6",null,"Call us:",u.a.createElement("a",{href:"tel:"+t.phone_number},t.phone_number))))}}]),t}(i.Component),J=a(213),W=(i.Component,function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).handleChangeCategory=function(e){a.props.handleChangeCategory(e),window.scrollTo(0,1300)},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.ShopProductCategory;return u.a.createElement("div",null,u.a.createElement("div",{className:"container category-button"},u.a.createElement("section",{className:"section-b-space"},u.a.createElement("div",{className:"row partition1"},u.a.createElement("div",{className:"col"},u.a.createElement("a",{href:null,onClick:function(t){return e.props.handleClearCategory(t)},className:"btn btn-outline btn-block"},"All Products")),t&&u.a.createElement(u.a.Fragment,null,t.map(function(t,a){return u.a.createElement("div",{key:a,className:"col"},u.a.createElement("a",{href:null,className:"btn btn-outline btn-block",onClick:function(){return e.handleChangeCategory(t.id)}},t.name))}))))))}}]),t}(i.Component)),Y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={loading:!1,error:null,products:[],featuredProducts:[],ShopDetail:null,ShopProductCategory:[],SelectedCategory:"all",filteredProduct:[],offset:0,limit:20,query:"all",hasMore:!0,data:[]},a.handleChangeCategory=function(e){a.setState({offset:0,query:e,hasMore:!0},function(){a.fetchFreshProducts()})},a.handleClearCategory=function(){a.setState({offset:0,query:"all",hasMore:!0},function(){a.fetchFreshProducts()})},a.fetchProducts=function(){var e=a.props.match.params;a.setState({loading:!0});var t=a.state,r=t.limit,c=t.offset,l=t.query,o=e.shopID;j.a.get(w.o+"?limit=".concat(r,"&offset=").concat(c,"&query=").concat(l,"&shopID=").concat(o)).then(function(e){var t=e.data.products,l=e.data.has_more;a.setState({hasMore:l,loading:!1,products:Object(n.a)(a.state.products).concat(Object(n.a)(t)),offset:c+r})}).catch(function(e){a.setState({error:e,loading:!1})})},a.fetchFreshProducts=function(){var e=a.props.match.params;a.setState({loading:!0});var t=a.state,n=t.limit,r=t.offset,c=t.query,l=e.shopID;j.a.get(w.o+"?limit=".concat(n,"&offset=").concat(r,"&query=").concat(c,"&shopID=").concat(l)).then(function(e){a.setState({data:e.data,loading:!1,hasMore:e.data.has_more,products:e.data.products,offset:r+n})}).catch(function(e){a.setState({error:e,loading:!1})})},a.fetchShopDetails=function(){var e=a.props.match.params;a.setState({loading:!0}),j.a.get(Object(w.j)(e.shopID)).then(function(e){a.setState({ShopDetail:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.fetchProductCategory=function(){var e=a.props.match.params;a.setState({loading:!0}),j.a.get(Object(w.m)(e.shopID)).then(function(e){a.setState({ShopProductCategory:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.fetchfeaturedProducts=function(){var e=a.props.match.params;a.setState({loading:!0}),j.a.get(Object(w.k)(e.shopID)).then(function(e){a.setState({featuredProducts:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#"),this.fetchProducts(),this.fetchfeaturedProducts(),this.fetchShopDetails(),this.fetchProductCategory()}},{key:"render",value:function(){var e=this.state,t=e.products,a=e.featuredProducts,n=e.ShopDetail,r=e.ShopProductCategory;e.filteredProduct,e.hasMore,e.data;return u.a.createElement("div",null,u.a.createElement(d.Helmet,null,u.a.createElement("title",null,"Local Dukans")),this.state.loading&&u.a.createElement("div",{className:"loading-cls"}),u.a.createElement("section",{className:"ratio_asos metro-section portfolio-section "},n&&u.a.createElement(H,{ShopDetail:n})),n&&u.a.createElement("div",null,n.is_active?u.a.createElement("div",null,n.is_accepting_orders?u.a.createElement("div",null,n&&u.a.createElement("div",null,""!==n.shipping_message?u.a.createElement(S,{message:n.shipping_message}):null,""!==n.offer_message?u.a.createElement(N,{message:n.offer_message}):null),a.length>0?u.a.createElement(R,{fProducts:a,loading:this.state.loading}):null,r.length>1?u.a.createElement(W,{handleClearCategory:this.handleClearCategory,handleChangeCategory:this.handleChangeCategory,ShopProductCategory:r}):null,t&&u.a.createElement(G,{loading:this.state.loading,fetchProducts:this.fetchProducts,hasmore:this.state.hasMore,products:t,SelectedCategory:this.state.SelectedCategory})):u.a.createElement(E,null,u.a.createElement("h4",null,"We are not accepting orders now"),u.a.createElement("p",null,"please check back later"))):u.a.createElement(E,null,u.a.createElement("h4",null,"This shop is currently not active"),u.a.createElement("p",null,"please check back later"))))}}]),t}(i.Component);t.default=Object(m.connect)(null,function(e){return{refreshCart:function(){return e(Object(C.b)())}}})(Y)}}]);
//# sourceMappingURL=8.d9ef13ce.chunk.js.map