(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{561:function(e,t,a){"use strict";function n(e,t,a,n,s,r,o){try{var c=e[r](o),l=c.value}catch(i){return void a(i)}c.done?t(l):Promise.resolve(l).then(n,s)}function s(e){return function(){var t=this,a=arguments;return new Promise(function(s,r){var o=e.apply(t,a);function c(e){n(o,s,r,c,l,"next",e)}function l(e){n(o,s,r,c,l,"throw",e)}c(void 0)})}}a.d(t,"a",function(){return s})},574:function(e,t,a){"use strict";a.r(t);var n=a(291),s=a.n(n),r=a(561),o=a(51),c=a(129),l=a(4),i=a(5),d=a(8),u=a(6),h=a(7),p=a(0),g=a.n(p),f=a(13),m=(a(32),a(558)),b=(a(40),a(90)),S=a(26),O=a.n(S),C=a(46),v=a(548),I=a(140),A=a(10),w=(a(58),a(9)),D=a(16),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).fetchAddress=function(){var e=a.props.match.params;a.setState({loading:!0}),D.a.get(Object(w.G)(e.addressID)).then(function(e){a.setState({orderAddress:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.handleChangeState=function(e){a.setState({selectedState:e.id},function(){a.loadDistricts()})},a.handleCreateAddress=function(e){e.preventDefault();var t=a.state,n=t.orderAddress,s=t.selectedArea,r=t.selectedPlace,o=t.selectedVillage,l=t.selectedDistrict,i=t.selectedState;""!==n&&""!==s&&""!==r&&""!==o&&""!==l&&""!==i?D.a.put(Object(w.v)(n.id),Object(c.a)({},n,{area:s,place:r,village:o,district:l,state:i})).then(function(e){A.toast.success("Address added succesfully"),a.setState({success:!0})}).catch(function(e){a.setState({error:e}),A.toast.error("Oops there was an error")}):A.toast.error("Please provide complete address")},a.handleChangeB=function(e){var t=a.state.orderAddress,n=Object(c.a)({},t,Object(o.a)({},e.target.name,e.target.value));a.setState({orderAddress:n})},a.handleChangeDistrict=function(e){a.setState({selectedDistrict:e.id},function(){a.loadVillages()})},a.handleChangeVillage=function(e){a.setState({selectedVillage:e.id},function(){a.loadPlaces(),console.log(a.state.selectedDistrict)})},a.handleChangePlaces=function(e){a.setState({selectedPlace:e.id},function(){a.loadAreas()})},a.handleChangeArea=function(e){a.setState({selectedArea:e.id}),console.log(a.state.selectedArea)},a.loadStates=Object(r.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),D.a.get(w.db).then(function(e){a.setState({states:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),a.loadDistricts=function(){var e=a.state.selectedState;a.setState({loading:!0}),O.a.get(w.A,{params:{stateID:e}}).then(function(e){a.setState({districts:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.loadVillages=Object(r.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=a.state.selectedDistrict,D.a.get(w.fb,{params:{districtID:t}}).then(function(e){a.setState({villages:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 3:case"end":return e.stop()}},e,this)})),a.loadPlaces=Object(r.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=a.state.selectedVillage,D.a.get(w.S,{params:{villageID:t}}).then(function(e){a.setState({places:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 3:case"end":return e.stop()}},e,this)})),a.loadAreas=Object(r.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=a.state.selectedPlace,D.a.get(w.x,{params:{placeID:t}}).then(function(e){a.setState({aeras:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 3:case"end":return e.stop()}},e,this)})),a.state={aeras:[],places:[],villages:[],districts:[],states:[],selectedArea:"",selectedPlace:"",selectedVillage:"",selectedDistrict:"",selectedState:"",form:{full_address:"",phone_number:""},success:!1,error:null,loading:!1,orderAddress:{id:"",phone_number:"",full_address:""}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchAddress(),this.loadStates()}},{key:"render",value:function(){var e=this.state,t=e.success,a=(e.error,e.loading),n=e.states,s=e.districts,r=e.villages,o=e.places,c=e.aeras;e.phone_number,e.full_address,e.selectedState;return console.log(this.state.orderAddress.full_address),t?g.a.createElement(m.a,{to:"/addresses"}):g.a.createElement("div",null,a&&g.a.createElement("div",{className:"loading-cls"}),g.a.createElement(C.a,{ClassName:"h-100 shadow-sm bg-white rounded"},g.a.createElement(C.a.Body,{ClassName:"d-flex felx-column"},g.a.createElement("div",{ClassName:"a-flex mb-2 justify-content-between"},g.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeState,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:n,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select state",autoFocus:!0,menuIsOpen:this.state.menuOpen}),g.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeDistrict,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:s,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select district",menuIsOpen:this.state.menuOpen}),g.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeVillage,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:r,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select village",menuIsOpen:this.state.menuOpen}),g.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangePlaces,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:o,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select your locality",menuIsOpen:this.state.menuOpen}),g.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeArea,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:c,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select area",menuIsOpen:this.state.menuOpen}),g.a.createElement(v.a,null,g.a.createElement(v.a.Group,{controlId:"formGridAddress1"},g.a.createElement(v.a.Control,{type:"text",name:"phone_number",placeholder:"Phone Number",ClassName:"mb-3",value:this.state.orderAddress.phone_number,onChange:this.handleChangeB.bind(this)})),g.a.createElement(v.a.Group,{controlId:"exampleForm.ControlTextarea1"},g.a.createElement(v.a.Control,{as:"textarea",type:"text",name:"full_address",placeholder:"Road, House Name ...",ClassName:"mb-3",value:this.state.orderAddress.full_address,onChange:this.handleChangeB.bind(this)})),g.a.createElement(I.a,{variant:"primary",type:"submit",onClick:this.handleCreateAddress},"Submit"))))))}}]),t}(p.Component);t.default=Object(f.connect)(function(e){return{token:e.auth.token,userID:e.user.user.userID}})(E)}}]);
//# sourceMappingURL=6.430584e5.chunk.js.map