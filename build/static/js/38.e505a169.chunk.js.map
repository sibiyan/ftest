{"version":3,"sources":["components/ld/products/editProduct2.jsx"],"names":["EditProduct","state","formData","id","title","title_local","item_quantity","price","discount_price","description","is_available","is_on_sale","is_featured","success","error","loading","fetchProductDetails","params","_this","props","match","setState","authAxios","get","productDetailURL","productID","then","res","data","catch","err","handleChange","e","updatedFormdata","Object","_Users_swalihvpm_Desktop_django_react_ftest_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_swalihvpm_Desktop_django_react_ftest_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","name","value","handleChangeCheckBox","checked","handleUpdateProductDetails","preventDefault","userID","put","ShopProductUpdateURL","user","saving","default","toast","this","_React$createElement","_this$state","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_9__","to","react_bootstrap__WEBPACK_IMPORTED_MODULE_15__","className","react_bootstrap__WEBPACK_IMPORTED_MODULE_16__","onSubmit","Group","controlId","Label","Control","type","onChange","Check","label","react_bootstrap__WEBPACK_IMPORTED_MODULE_17__","variant","Component","connect","token","auth"],"mappings":"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","file":"static/js/38.e505a169.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport Breadcrumb from \"../common/breadcrumb\";\n\nimport { ShopProductUpdateURL, productDetailURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\n\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport {\n  Form,\n  Button,\n  InputGroup,\n  FormControl,\n  Col,\n  Container\n} from \"react-bootstrap\";\n\nclass EditProduct extends Component {\n  state = {\n    formData: {\n      id: \"\",\n      title: \"\",\n      title_local: \"\",\n      item_quantity: \"\",\n      price: \"\",\n      discount_price: \"\",\n      //   category: \"\",\n      description: \"\",\n      is_available: false,\n      is_on_sale: false,\n      is_featured: false\n    },\n    success: false,\n    error: null,\n    loading: false\n  };\n\n  componentDidMount() {\n    this.fetchProductDetails();\n  }\n\n  fetchProductDetails = () => {\n    const {\n      match: { params }\n    } = this.props;\n    this.setState({ loading: true });\n    authAxios\n      .get(productDetailURL(params.productID))\n      .then(res => {\n        this.setState({ formData: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, success: false, loading: false });\n      });\n  };\n\n  handleChange = e => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      [e.target.name]: e.target.value\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleChangeCheckBox = e => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      [e.target.name]: e.target.checked\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleUpdateProductDetails = e => {\n    e.preventDefault();\n    const { userID } = this.props;\n    const { formData } = this.state;\n    authAxios\n      .put(ShopProductUpdateURL(formData.id), {\n        ...formData,\n        user: userID\n      })\n      .then(res => {\n        this.setState({\n          saving: false,\n          success: true,\n          formData: { default: false }\n        });\n        toast.success(\"Your edit is successful\");\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  render() {\n    const { formData, success, error, loading } = this.state;\n    // console.log(formData);\n\n    if (success) {\n      return <Redirect to=\"/shop-product-list\" />;\n    }\n    return (\n      <Container>\n        {this.state.loading && <div className=\"loading-cls\"></div>}\n        <Form onSubmit={this.handleUpdateProductDetails}>\n          <Form.Group controlId=\"title\">\n            <Form.Label>Product Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              // placeholder=\"Product Name\"\n              name=\"title\"\n              value={formData.title || \"\"}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"title-local\">\n            <Form.Label>Name in Local language</Form.Label>\n            <Form.Control\n              type=\"text\"\n              // placeholder=\"Product Local Name\"\n              name=\"title_local\"\n              value={formData.title_local || \"\"}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"quantity\">\n            <Form.Label>Quantity</Form.Label>\n            <Form.Control\n              type=\"text\"\n              // placeholder=\"Quantity\"\n              name=\"item_quantity\"\n              value={formData.item_quantity || \"\"}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicPassword\">\n            <Form.Label>Price</Form.Label>\n            <Form.Control\n              type=\"text\"\n              // placeholder=\"Price\"\n              name=\"price\"\n              value={formData.price || \"\"}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicPassword\">\n            <Form.Label>Discounted Price</Form.Label>\n            <Form.Control\n              type=\"text\"\n              // placeholder=\"Discount\"\n              name=\"discount_price\"\n              value={formData.discount_price || \"\"}\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          {/* <Form.Group\n            controlId=\"formBasicPassword\"\n            name=\"detail\"\n            value={formData.detail}\n          >\n            <Form.Label>Detail</Form.Label>\n            <Form.Control type=\"text\" placeholder=\"Detail\" />\n          </Form.Group> */}\n          <Form.Group controlId=\"formBasicCheckbox\">\n            <Form.Check\n              type=\"checkbox\"\n              name=\"is_available\"\n              label=\"In stock\"\n              checked={formData.is_available}\n              onChange={this.handleChangeCheckBox}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicCheckbox\">\n            <Form.Check\n              type=\"checkbox\"\n              label=\"Feautured product\"\n              checked={formData.is_featured}\n              name=\"is_featured\"\n              checked={formData.is_featured}\n              onChange={this.handleChangeCheckBox}\n            />\n          </Form.Group>\n          <Form.Group controlId=\"formBasicCheckbox\">\n            <Form.Check\n              type=\"checkbox\"\n              label=\"On sale\"\n              name=\"is_on_sale\"\n              checked={formData.is_on_sale}\n              onChange={this.handleChangeCheckBox}\n            />\n          </Form.Group>\n          <Button variant=\"primary\" type=\"submit\">\n            Submit\n          </Button>\n        </Form>\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    userID: state.user.user.userID\n  };\n};\n\nexport default connect(mapStateToProps)(EditProduct);\n"],"sourceRoot":""}