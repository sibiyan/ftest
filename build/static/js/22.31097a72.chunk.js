(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{264:function(e,t,a){"use strict";var n=a(2),s=a(4),r=a(3),c=a.n(r),l=a(0),o=a.n(l),i=a(11),d=a(64),u=a(121),h=o.a.createContext(null);h.displayName="CardContext";var m=h,p=o.a.forwardRef(function(e,t){var a=e.bsPrefix,r=e.className,l=e.variant,d=e.as,u=void 0===d?"img":d,h=Object(s.a)(e,["bsPrefix","className","variant","as"]),m=Object(i.a)(a,"card-img");return o.a.createElement(u,Object(n.a)({ref:t,className:c()(l?m+"-"+l:m,r)},h))});p.displayName="CardImg",p.defaultProps={variant:null};var f=p,g=Object(u.a)("h5"),b=Object(u.a)("h6"),O=Object(d.a)("card-body"),C=Object(d.a)("card-title",{Component:g}),v=Object(d.a)("card-subtitle",{Component:b}),S=Object(d.a)("card-link",{Component:"a"}),j=Object(d.a)("card-text",{Component:"p"}),x=Object(d.a)("card-header"),E=Object(d.a)("card-footer"),I=Object(d.a)("card-img-overlay"),y=o.a.forwardRef(function(e,t){var a=e.bsPrefix,r=e.className,d=e.bg,u=e.text,h=e.border,p=e.body,f=e.children,g=e.as,b=void 0===g?"div":g,C=Object(s.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),v=Object(i.a)(a,"card"),S=Object(l.useMemo)(function(){return{cardHeaderBsPrefix:v+"-header"}},[v]);return o.a.createElement(m.Provider,{value:S},o.a.createElement(b,Object(n.a)({ref:t},C,{className:c()(r,v,d&&"bg-"+d,u&&"text-"+u,h&&"border-"+h)}),p?o.a.createElement(O,null,f):f))});y.displayName="Card",y.defaultProps={body:!1},y.Img=f,y.Title=C,y.Subtitle=v,y.Body=O,y.Link=S,y.Text=j,y.Header=x,y.Footer=E,y.ImgOverlay=I;t.a=y},607:function(e,t,a){"use strict";a.r(t);var n=a(50),s=a(123),r=a(32),c=a.n(r),l=a(52),o=a(6),i=a(7),d=a(9),u=a(8),h=a(10),m=a(0),p=a.n(m),f=a(18),g=(a(34),a(251)),b=(a(67),a(261)),O=a(40),C=a.n(O),v=a(264),S=a(248),j=a(244),x=a(13),E=(a(48),a(5)),I=a(14),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChangeState=function(e){a.setState({selectedState:e.id},function(){a.loadDistricts()})},a.handleChangeDistrict=function(e){a.setState({selectedDistrict:e.id},function(){a.loadVillages()})},a.handleChangeVillage=function(e){a.setState({selectedVillage:e.id},function(){a.loadPlaces(),console.log(a.state.selectedDistrict)})},a.handleChangePlaces=function(e){a.setState({selectedPlace:e.id},function(){a.loadAreas()})},a.handleChangeArea=function(e){a.setState({selectedArea:e.id})},a.loadStates=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),I.a.get(E.kb).then(function(e){a.setState({states:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),a.loadDistricts=function(){var e=a.state.selectedState;a.setState({loading:!0}),C.a.get(E.D,{params:{stateID:e}}).then(function(e){a.setState({districts:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.loadVillages=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=a.state.selectedDistrict,I.a.get(E.mb,{params:{districtID:t}}).then(function(e){a.setState({villages:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 3:case"end":return e.stop()}},e,this)})),a.loadPlaces=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=a.state.selectedVillage,I.a.get(E.W,{params:{villageID:t}}).then(function(e){a.setState({places:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 3:case"end":return e.stop()}},e,this)})),a.loadAreas=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),t=a.state.selectedPlace,I.a.get(E.A,{params:{placeID:t}}).then(function(e){a.setState({aeras:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 3:case"end":return e.stop()}},e,this)})),a.handleCreateAddress=function(e){e.preventDefault();var t=a.props.user.user.id;console.log(t);var n=a.state,r=n.form,c=n.selectedArea,l=n.selectedPlace,o=n.selectedVillage,i=n.selectedDistrict,d=n.selectedState;""!==r&&""!==c&&""!==l&&""!==o&&""!==i&&""!==d?I.a.post(E.w,Object(s.a)({},r,{user:t,area:c,place:l,village:o,district:i,state:d})).then(function(e){x.toast.success("Address added succesfully"),a.setState({success:!0})}).catch(function(e){a.setState({error:e}),x.toast.error("Oops there was an error")}):(console.log("else"),x.toast.error("Please provide complete address"))},a.state={aeras:[],places:[],villages:[],districts:[],states:[],selectedArea:"",selectedPlace:"",selectedVillage:"",selectedDistrict:"",selectedState:"",form:{full_address:"",phone_number:""},success:!1,error:null,loading:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadStates()}},{key:"handleChangeB",value:function(e){var t=e.target.name,a=e.target.value;this.setState({form:Object(s.a)({},this.state.form,Object(n.a)({},t,a))})}},{key:"render",value:function(){var e=this.state,t=e.success,a=(e.error,e.loading),s=e.states,r=e.districts,c=e.villages,l=e.places,o=e.aeras;e.phone_number,e.full_address,e.selectedState;return t?p.a.createElement(g.a,{to:"/addresses"}):this.props.token?p.a.createElement("div",null,a?p.a.createElement("div",{className:"loading-cls"}):p.a.createElement(p.a.Fragment,null,p.a.createElement(x.ToastContainer,null),p.a.createElement(v.a,{ClassName:"h-100 shadow-sm bg-white rounded"},p.a.createElement(v.a.Body,{ClassName:"d-flex felx-column"},p.a.createElement("div",{ClassName:"a-flex mb-2 justify-content-between"},p.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeState,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:s,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select state",menuIsOpen:this.state.menuOpen,isSearchable:!1}),p.a.createElement(b.a,Object(n.a)({className:"mb-3",onChange:this.handleChangeDistrict,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:r,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select district",menuIsOpen:this.state.menuOpen},"isSearchable",!1)),p.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeVillage,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:c,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select village",menuIsOpen:this.state.menuOpen}),p.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangePlaces,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:l,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select your locality",menuIsOpen:this.state.menuOpen}),p.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeArea,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:o,isSearchable:!0,filterOption:this.customFilter,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select area",menuIsOpen:this.state.menuOpen}),p.a.createElement(S.a,null,p.a.createElement(S.a.Group,{controlId:"formGridAddress1"},p.a.createElement(S.a.Control,{type:"text",name:"phone_number",placeholder:"Phone Number",ClassName:"mb-3",defaultValue:this.state.phone_number,onChange:this.handleChangeB.bind(this)})),p.a.createElement(S.a.Group,{controlId:"exampleForm.ControlTextarea1"},p.a.createElement(S.a.Control,{as:"textarea",type:"text",name:"full_address",placeholder:"Road, House Name ...",ClassName:"mb-3",defaultValue:this.state.form.full_address,onChange:this.handleChangeB.bind(this)})),p.a.createElement(j.a,{variant:"primary",type:"submit",onClick:this.handleCreateAddress},"Submit"))))))):p.a.createElement(g.a,{to:"/login"})}}]),t}(m.Component);t.default=Object(f.connect)(function(e){return{token:e.auth.token,user:e.user}})(y)}}]);
//# sourceMappingURL=22.31097a72.chunk.js.map