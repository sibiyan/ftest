(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{480:function(e,t,a){"use strict";a.r(t);var n=a(156),c=a(78),o=a(8),l=a(9),r=a(11),i=a(10),d=a(12),s=a(0),h=a.n(s),m=(a(107),a(18)),u=(a(96),a(7)),p=a(14),k=a(398),g=(a(57),a(397)),E=a(459),v=a(418),b=a(4),f=a(395),_=a(477),C=a(399),w=a(15),y=a(5);function O(){var e=Object(b.a)(["\n  width: 90%;\n  text-align: left;\n  margin-right: 0.5em;\n  margin-left: 0.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n  padding-top: 2em;\n  padding-bottom: 2em;\n\n  @media (min-width: 786px) {\n    width: 80%;\n  }\n\n  @media (min-width: 320px) {\n    width: 95%;\n  }\n"]);return O=function(){return e},e}var j=Object(y.b)(f.a)(O()),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,d=new Array(l),s=0;s<l;s++)d[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(d)))).state={form:{id:"",title:"",title_local:"",stock_count:"",is_available:!0,is_featured:!0,is_on_sale:!0,item_stock:!1}},a.handleChange=function(e){var t=a.state.form,o=Object(n.a)({},t,Object(c.a)({},e.target.name,e.target.value));a.setState({form:o})},a.handlecheckBox=function(e){var t=a.state.form,o=Object(n.a)({},t,Object(c.a)({},e.target.name,e.target.checked));a.setState({form:o})},a.handleUpdateProduct=function(e){e.preventDefault();var t=a.state.form;p.a.put(Object(u.q)(t.id),Object(n.a)({},t)).then(function(e){a.setState({}),a.props.fetchProduct(),a.props.hide(),w.toast.success("Your edit is successful")}).catch(function(e){a.setState({error:e})})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.productForm;this.setState({form:e})}},{key:"render",value:function(){var e,t=this.state.form;return h.a.createElement(_.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter"},h.a.createElement(_.a.Header,{closeButton:!0,onClick:this.props.hide},h.a.createElement(_.a.Title,null,"Edit Product")),h.a.createElement(_.a.Body,null,h.a.createElement(C.a,null,h.a.createElement(j,null,h.a.createElement(f.a.Group,{controlId:"title"},h.a.createElement(f.a.Label,null,"Product Name"),h.a.createElement(f.a.Control,{type:"text",name:"title",value:t.title||"",onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"title"},h.a.createElement(f.a.Label,null,"Local Name"),h.a.createElement(f.a.Control,{type:"text",name:"title_local",value:t.title_local||"",onChange:this.handleChange})),t.item_stock?h.a.createElement(f.a.Group,{controlId:"stock_count"},h.a.createElement(f.a.Label,null,"Stock Count"),h.a.createElement(f.a.Control,{type:"text",label:"Stock Count",name:"stock_count",checked:t.stock_count,onChange:this.handleChange})):null,h.a.createElement(f.a.Group,{controlId:"formBasicCheckbox"},h.a.createElement(f.a.Check,{type:"checkbox",name:"is_available",label:"In stock",checked:t.is_available,onChange:this.handlecheckBox})),h.a.createElement(f.a.Group,{controlId:"formBasicCheckbox"},h.a.createElement(f.a.Check,{type:"checkbox",label:"On sale",name:"is_on_sale",checked:t.is_on_sale,onChange:this.handlecheckBox})),h.a.createElement(f.a.Group,{controlId:"formBasicCheckbox"},h.a.createElement(f.a.Check,(e={type:"checkbox",label:"Feautured product",checked:t.is_featured,name:"is_featured"},Object(c.a)(e,"checked",t.is_featured),Object(c.a)(e,"onChange",this.handlecheckBox),e))),h.a.createElement(f.a.Group,{controlId:"item_stock"},h.a.createElement(f.a.Check,{type:"checkbox",label:"Manage stock from product",name:"item_stock",checked:t.item_stock,onChange:this.handlecheckBox}))))),h.a.createElement(_.a.Footer,null,h.a.createElement(k.a,{onClick:this.props.hide,variant:"secondary"},"Close"),h.a.createElement(k.a,{onClick:this.handleUpdateProduct,variant:"primary"},"Save")))}}]),t}(h.a.Component),S=a(461),G=a(388),I=a(390);function M(){var e=Object(b.a)(["\n  width: 90%;\n  text-align: left;\n  margin-right: 0.5em;\n  margin-left: 0.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n  padding-top: 2em;\n  padding-bottom: 2em;\n\n  @media (min-width: 786px) {\n    width: 80%;\n  }\n\n  @media (min-width: 320px) {\n    width: 95%;\n  }\n"]);return M=function(){return e},e}var P=Object(y.b)(f.a)(M()),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",price:"",discount_price:"",is_available:!0,item_stock:!1,stock_count:1,stock_weight:1,weightdisplay:!1},a.handleChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.handleCheckBox=function(e){a.setState(Object(c.a)({},e.target.name,e.target.checked))},a.handleItemStock=function(e){e.target.checked?a.setState({weightdisplay:!0}):a.setState({weightdisplay:!1}),a.handleCheckBox(e)},a.handleStockWeight=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.handleCreateVariation=function(e){e.preventDefault();var t=a.props.item,n=a.state,c=n.name,o=n.price,l=n.discount_price,r=n.is_available,i=n.stock_count,d=n.item_stock,s=n.stock_weight;p.a.post(u.fb,{item:t,name:c,price:o,discount_price:l,stock_count:i,item_stock:d,is_available:r,stock_weight:s}).then(function(e){a.setState({loading:!1}),w.toast.success("Variation added"),a.props.HideAddVariationModal(),a.props.fetchProductDetails()}).catch(function(e){w.toast.error("error")})},a.handleChangeStock=function(e){a.setState({stock_weight:e.value})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.price,n=e.discount_price,c=e.stock_count,o=e.is_available;e.stock_weight;return h.a.createElement(_.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter"},h.a.createElement(_.a.Header,{closeButton:!0,onClick:this.props.HideAddVariationModal},h.a.createElement(_.a.Title,null,"Add a Variation")),h.a.createElement(_.a.Body,null,h.a.createElement(C.a,null,h.a.createElement(P,null,h.a.createElement(f.a.Group,{controlId:"name"},h.a.createElement(f.a.Label,null,"Name (KG|Color|Size)"),h.a.createElement(f.a.Control,{type:"text",name:"name",value:t||"",onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"mrp"},h.a.createElement(f.a.Label,null,"MRP"),h.a.createElement(f.a.Control,{type:"text",name:"price",value:a||"",onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"price"},h.a.createElement(f.a.Label,null,"Price"),h.a.createElement(f.a.Control,{type:"text",name:"discount_price",value:n||"",onChange:this.handleChange})),this.props.item_stock?h.a.createElement(h.a.Fragment,null,h.a.createElement(S.a,null,h.a.createElement(G.a,{sx:12},h.a.createElement(I.a,{onChange:this.handleChangeStock,options:[{value:.25,label:"250 Gram"},{value:.5,label:"500 Gram"},{value:.75,label:"750 Gram"},{value:1,label:"1 KG/No"},{value:1.5,label:"1.5 KG/Ltr"},{value:2,label:"2 KG/No"},{value:5,label:"5 KG/No"},{value:10,label:"10 KG/No"},{value:12,label:"12 KG/No"},{value:15,label:"15 KG/No"},{value:20,label:"20 KG/No"},{value:30,label:"30 KG/No"}],placeholder:"Deduct from product stock"})))):h.a.createElement(h.a.Fragment,null,h.a.createElement(f.a.Group,{controlId:"price"},h.a.createElement(f.a.Label,null,"Stock count"),h.a.createElement(f.a.Control,{type:"text",name:"stock_count",value:c||"",onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"is_available"},h.a.createElement(f.a.Check,{type:"checkbox",name:"is_available",label:"In stock",checked:o,onChange:this.handleCheckBox})))))),h.a.createElement(_.a.Footer,null,h.a.createElement(k.a,{onClick:this.props.HideAddVariationModal,variant:"secondary"},"Close"),h.a.createElement(k.a,{onClick:this.handleCreateVariation,variant:"primary"},"Save")))}}]),t}(h.a.Component);function D(){var e=Object(b.a)(["\n  width: 90%;\n  text-align: left;\n  margin-right: 0.5em;\n  margin-left: 0.5em;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n  padding-top: 2em;\n  padding-bottom: 2em;\n\n  @media (min-width: 786px) {\n    width: 80%;\n  }\n\n  @media (min-width: 320px) {\n    width: 95%;\n  }\n"]);return D=function(){return e},e}var B=Object(y.b)(f.a)(D()),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,d=new Array(l),s=0;s<l;s++)d[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(d)))).state={variationForm:{item:"",id:"",name:"",price:"",discount_price:"",is_available:!1,item_stock:!1,stock_count:"",stock_weight:1}},a.handleChange=function(e){var t=a.state.variationForm,o=Object(n.a)({},t,Object(c.a)({},e.target.name,e.target.value));a.setState({variationForm:o})},a.handlecheckBox=function(e){var t=a.state.variationForm,o=Object(n.a)({},t,Object(c.a)({},e.target.name,e.target.checked));a.setState({variationForm:o})},a.handleUpdateVariation=function(e){e.preventDefault();var t=a.props.item,c=a.state.variationForm;p.a.put(Object(u.s)(c.id),Object(n.a)({},c,{item:t})).then(function(e){a.setState({loading:!1}),a.props.fetchProductDetails(),a.props.hideEdit()}).catch(function(e){a.setState({error:e})})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.variation;this.setState({variationForm:e})}},{key:"render",value:function(){var e=this.state.variationForm;return h.a.createElement(_.a,{show:this.props.show,"aria-labelledby":"contained-modal-title-vcenter"},h.a.createElement(_.a.Header,{closeButton:!0,onClick:this.props.hideEdit},h.a.createElement(_.a.Title,null,"Edit Product Variation")),h.a.createElement(_.a.Body,null,h.a.createElement(C.a,null,h.a.createElement(B,null,h.a.createElement(f.a.Group,{controlId:"name"},h.a.createElement(f.a.Label,null,"Name (KG|Color|Size)"),h.a.createElement(f.a.Control,{type:"text",name:"name",value:e.name,onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"mrp"},h.a.createElement(f.a.Label,null,"MRP"),h.a.createElement(f.a.Control,{type:"text",name:"price",value:e.price,onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"discountprice"},h.a.createElement(f.a.Label,null,"Price"),h.a.createElement(f.a.Control,{type:"text",name:"discount_price",value:e.discount_price,onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"stock_count"},h.a.createElement(f.a.Label,null,"Stock count"),h.a.createElement(f.a.Control,{type:"text",label:"Stock Count",name:"stock_count",value:e.stock_count,onChange:this.handleChange})),h.a.createElement(f.a.Group,{controlId:"is_available"},h.a.createElement(f.a.Check,{type:"checkbox",label:"In Stock",name:"is_available",checked:e.is_available,onChange:this.handlecheckBox})),h.a.createElement(f.a.Group,{controlId:"item_stock"},h.a.createElement(f.a.Check,{type:"checkbox",label:"Product stock",name:"item_stock",checked:e.item_stock,onChange:this.handlecheckBox}))),h.a.createElement(S.a,{style:{display:e.item_stock?"flex":"none"}},h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"250 Gram",checked:.25==e.stock_weight,value:.25,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"500 Gram",value:.5,checked:.5==e.stock_weight,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"750 Gram",value:.75,checked:.75==e.stock_weight,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"1 KG",value:1,checked:1==e.stock_weight,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"2 KG",value:2,checked:2==e.stock_weight,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"5 KG",value:5,checked:5==e.stock_weight,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"10 KG",value:10,checked:10==e.stock_weight,onChange:this.handleChange}))),h.a.createElement(G.a,{sx:12},h.a.createElement(f.a.Group,{controlId:"v_weight"},h.a.createElement(f.a.Check,{type:"radio",name:"stock_weight",label:"15 KG",value:15,checked:15==e.stock_weight,onChange:this.handleChange})))))),h.a.createElement(_.a.Footer,null,h.a.createElement(k.a,{onClick:this.props.hideEdit,variant:"secondary"},"Close"),h.a.createElement(k.a,{onClick:this.handleUpdateVariation,variant:"primary"},"Save")))}}]),t}(h.a.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={editMode:!1},a.showEdit=function(){a.setState({editMode:!0})},a.hideEdit=function(){a.setState({editMode:!1})},a.handleDeleteVariation=function(e){e.preventDefault();var t=a.props.variation;p.a.delete(Object(u.r)(t.id)).then(function(e){a.setState({loading:!1}),w.toast.error("Variation deleted"),a.props.fetchProductDetails()}).catch(function(e){w.toast.error("error")})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.variation,a=e.item,n=e.item_stock;return h.a.createElement(h.a.Fragment,null,this.state.editMode?h.a.createElement(V,{show:this.state.editMode,variation:t,item:a,hideEdit:this.hideEdit,fetchProductDetails:this.props.fetchProductDetails}):null,h.a.createElement("br",null),h.a.createElement(g.a,null,h.a.createElement(g.a.Header,null,"Name: ",t.name),h.a.createElement(E.a,{variant:"flush"},h.a.createElement(v.a,null,"MRP: ",t.price),h.a.createElement(v.a,null,"Price: ",t.discount_price),n?h.a.createElement(v.a,null,"Variation Weight: ",t.stock_weight):h.a.createElement(h.a.Fragment,null,h.a.createElement(v.a,null,"In Stock: ",t.is_available?"Yes":"No"),h.a.createElement(v.a,null,"Stock Count: ",t.stock_count))),h.a.createElement(v.a,null,h.a.createElement(k.a,{onClick:this.showEdit,variant:"outline-primary",size:"sm"},"edit")," ",h.a.createElement(k.a,{onClick:this.handleDeleteVariation,variant:"outline-danger",size:"sm"},"Delete")," ")))}}]),t}(h.a.Component),K=a(60),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var l=arguments.length,d=new Array(l),s=0;s<l;s++)d[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(d)))).state={productForm:{id:"",title:"",title_local:"",is_in_stock:!1,is_featured:!1,is_on_sale:!1,item_stock:!1,stock_count:1},editProductMode:!1,addVariationModal:!1,product:"",item:"",loading:!1,vName:"",vMRP:"",vPrice:"",vis_available:!0},a.showAddVariationModal=function(){a.setState({addVariationModal:!0})},a.HideAddVariationModal=function(){a.setState({addVariationModal:!1})},a.editModalShow=function(){a.setState({editProductMode:!0})},a.editModalHide=function(){a.setState({editProductMode:!1})},a.handleChange=function(e){a.setState(Object(c.a)({},e.target.name,e.target.value))},a.handleChangeCheckBox=function(e){a.setState(Object(c.a)({},e.target.name,e.target.checked))},a.handleChangeProductForm=function(e){var t=a.state.productForm,o=Object(n.a)({},t,Object(c.a)({},e.target.name,e.target.value));a.setState({productForm:o})},a.handlecheckBox=function(e){var t=a.state.productForm,o=Object(n.a)({},t,Object(c.a)({},e.target.name,e.target.checked));a.setState({productForm:o})},a.fetchProductDetails=function(){var e=a.props.match.params;a.setState({loading:!0}),p.a.get(Object(u.Z)(e.productID)).then(function(e){a.setState({product:e.data,productForm:e.data,loading:!1})}).catch(function(e){a.setState({error:e,success:!1,loading:!1})})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchProductDetails()}},{key:"render",value:function(){var e=this,t=this.state,a=t.product,n=t.addVariationModal,c=t.editProductMode,o=t.productForm;return console.log(a),h.a.createElement(K.c,null,c?h.a.createElement(x,{show:c,productForm:o,hide:this.editModalHide,fetchProduct:this.fetchProductDetails,item_stock:o.item_stock}):null,h.a.createElement(g.a,null,h.a.createElement(g.a.Img,{variant:"top",src:"".concat(u.H,"/").concat(a.image)}),h.a.createElement(g.a.Body,null,h.a.createElement(g.a.Title,null,a.title),h.a.createElement(g.a.Text,null,a.title_local),h.a.createElement(g.a.Text,null,"Product ID:",a.id),h.a.createElement(k.a,{onClick:this.editModalShow,variant:"outline-primary",size:"sm"},"edit")," "),h.a.createElement(E.a,{className:"list-group-flush"},h.a.createElement(v.a,null,"In Stock: ",a.is_available?"Yes":"No"),h.a.createElement(v.a,null,"Featured: ",a.is_featured?"Yes":"No"),h.a.createElement(v.a,null,"On Sale: ",a.is_on_sale?"Yes":"No"),h.a.createElement(v.a,null,"Manage stock from product: ",a.item_stock?"Yes":"No"),a.item_stock?h.a.createElement(v.a,null,"Stock Count: ",a.stock_count):null),h.a.createElement(g.a.Body,null,h.a.createElement(k.a,{onClick:this.showAddVariationModal,variant:"outline-success"},"Add a variation")," ")),n?h.a.createElement(F,{item:a.id,show:n,HideAddVariationModal:this.HideAddVariationModal,fetchProductDetails:this.fetchProductDetails,item_stock:o.item_stock}):null,a.variations?h.a.createElement(h.a.Fragment,null,a.variations.map(function(t,n){return h.a.createElement(N,{item:a.id,key:n,variation:t,fetchProductDetails:e.fetchProductDetails,item_stock:a.item_stock})})):null)}}]),t}(s.Component);t.default=Object(m.connect)(function(e){return{user:e.user}})(A)}}]);
//# sourceMappingURL=39.28755279.chunk.js.map