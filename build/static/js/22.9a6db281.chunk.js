(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{223:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return n})},264:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(6),o=a(5),l=a(7),s=a(0),i=a.n(s),u=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).handleChangeCategory=function(e){a.props.handleChangeCategory(e),window.scrollTo(0,1300)},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.ShopProductCategory;return i.a.createElement("div",null,this.props.loading?i.a.createElement("div",{className:"loading-cls"}):i.a.createElement("div",{className:"container category-button"},i.a.createElement("section",{className:"section-b-space"},i.a.createElement("div",{className:"row partition1"},i.a.createElement("div",{className:"col"},i.a.createElement("a",{href:null,onClick:function(t){return e.props.handleClearCategory(t)},className:"btn btn-outline btn-block"},"All Products")),t&&i.a.createElement(i.a.Fragment,null,t.map(function(t,a){return i.a.createElement("div",{key:a,className:"col"},i.a.createElement("a",{href:null,className:"btn btn-outline btn-block",onClick:function(){return e.handleChangeCategory(t.id)}},t.name))}))))))}}]),t}(s.Component);t.a=u},574:function(e,t,a){"use strict";a.r(t);var n=a(223),r=a(3),c=a(4),o=a(6),l=a(5),s=a(7),i=a(0),u=a.n(i),d=a(12),m=a(197),h=a(113),f=a(2),p=a(13),g=(a(28),a(216)),E=a(217),y=a(213),v=a(191),b=a(189),k=a(264),C=a(572),O=a(193),S=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={display:!1},a.handleViewVariationDisply=function(){a.setState({display:!a.state.display})},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item;return u.a.createElement("div",null,this.props.loading?u.a.createElement("div",{className:"loading-cls"}):u.a.createElement(y.a,{border:t.v_is_available?"success":"danger",onClick:function(){e.handleViewVariationDisply()}},u.a.createElement(y.a.Header,null,u.a.createElement(v.a,null,u.a.createElement(b.a,{xs:6},t.title_local?t.title_local:t.title),u.a.createElement(b.a,{xs:3},t.item_stock?t.stock_count:t.stock_of_varitations),u.a.createElement(b.a,{xs:3},t.item_stock?t.item_in_order:t.order_of_varitations))),u.a.createElement(C.a,{style:{display:this.state.display?"":"none"},variant:"flush"},t.variations.map(function(e,a){return u.a.createElement(C.a.Item,{key:a,variant:e.stock_count>0?"success":"danger"},u.a.createElement(v.a,null,u.a.createElement(b.a,{xs:6},e.name," "),u.a.createElement(b.a,{xs:3},t.item_stock?t.stock_count:e.stock_count),u.a.createElement(b.a,{xs:3},t.item_stock?t.item_in_order:e.check_in_order)))}),u.a.createElement(C.a.Item,null,u.a.createElement(h.a,{to:"".concat("","/shop-product-detail/").concat(t.id)},u.a.createElement(O.a,{variant:"outline-primary",size:"sm"},"View More"))))),u.a.createElement("br",null))}}]),t}(i.Component),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={products:[],categories:[],show:!1,loading:!1,limit:20,offset:0,query:"all",hasMore:!1,outOfStock:!1},a.handleOutofStock=function(e){a.setState({outOfStock:e.target.checked})},a.handleChangeCategory=function(e){a.setState({offset:0,query:e,hasMore:!0},function(){a.fetchFreshProducts()})},a.handleClearCategory=function(){a.setState({offset:0,query:"all",hasMore:!0},function(){a.fetchFreshProducts()})},a.fetchProducts=function(){a.setState({loading:!0});var e=a.state,t=e.limit,r=e.offset,c=e.query,o=e.outOfStock,l=a.props.user.user.id;p.a.get(f.o,{params:{limit:t,offset:r,query:c,owner:l,outOfStock:o}}).then(function(e){var c=e.data.products,o=e.data.has_more;a.setState({hasMore:o,loading:!1,products:Object(n.a)(a.state.products).concat(Object(n.a)(c)),offset:r+t})}).catch(function(e){a.setState({error:e,loading:!1})})},a.fetchFreshProducts=function(){a.setState({loading:!0});var e=a.state,t=e.limit,n=e.offset,r=e.query,c=e.outOfStock,o=a.props.user.user.id;p.a.get(f.o,{params:{limit:t,offset:n,query:r,owner:o,outOfStock:c}}).then(function(e){a.setState({loading:!1,hasMore:e.data.has_more,products:e.data.products,offset:n+t})}).catch(function(e){a.setState({error:e,loading:!1})})},a.handleClick=function(e){a.props.history.push("/shop-product-detail")},a.fetchProductCategory=function(){var e=a.props.user.user.id;a.setState({loading:!0}),p.a.get(Object(f.n)(e)).then(function(e){a.setState({categories:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchProductCategory(),this.fetchFreshProducts()}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.categories,r=t.hasMore;return this.props.token?u.a.createElement("div",{className:"container"},this.state.loading?u.a.createElement("div",{className:"loading-cls"}):null,u.a.createElement(g.a,null,u.a.createElement("div",{className:"account-sidebar"},u.a.createElement(h.a,{style:{color:"#FFF"},to:"/add-shop-product"},"Add a product")),this.state.loading&&u.a.createElement("div",{className:"loading-cls"}),n.length>1?u.a.createElement(k.a,{handleClearCategory:this.handleClearCategory,handleChangeCategory:this.handleChangeCategory,ShopProductCategory:n,loading:this.state.loading}):null,u.a.createElement(E.a,null,u.a.createElement("div",{className:"mb-3"},u.a.createElement(E.a.Check,{onChange:this.handleOutofStock,checked:this.state.outOfStock,type:"checkbox",label:"Search only out of stock"}))),a.length>0?u.a.createElement("div",null,u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-12"},u.a.createElement(y.a,{bg:"secondary",text:"light"},u.a.createElement(y.a.Header,{as:"h4"},u.a.createElement(v.a,null,u.a.createElement(b.a,{xs:4},"Product"),u.a.createElement(b.a,{xs:4}," Stock "),u.a.createElement(b.a,{xs:4},"Orders")))))),u.a.createElement("br",null),a.map(function(t,a){return u.a.createElement("div",{key:a,className:"row"},u.a.createElement("div",{className:"col-sm-12"},u.a.createElement(S,{item:t,fetchProducts:e.fetchProducts,hasMore:r,loading:e.state.loading})))}),this.loading?u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"loading-cls"})):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"row"},u.a.createElement(b.a,null,r?u.a.createElement("p",{onClick:this.fetchProducts,className:"seen-cls seen-it-cls"},u.a.createElement("b",null,"Load More")):u.a.createElement("p",{className:"seen-cls seen-it-cls"},u.a.createElement("b",null,"No more products")))))):u.a.createElement("div",null,"No products"))):u.a.createElement(m.a,{to:"/login"})}}]),t}(i.Component);t.default=Object(d.connect)(function(e){return{cartItems:e.cart.shoppingCart,user:e.user,token:e.auth.token}})(w)}}]);
//# sourceMappingURL=22.9a6db281.chunk.js.map