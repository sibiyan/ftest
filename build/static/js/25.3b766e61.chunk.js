(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{154:function(e,t,r){e.exports=r(156)},156:function(e,t,r){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(157),a)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(c){n.regeneratorRuntime=void 0}},157:function(e,t){!function(t){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",s="object"===typeof e,u=t.regeneratorRuntime;if(u)s&&(e.exports=u);else{(u=t.regeneratorRuntime=s?e.exports:{}).wrap=w;var h="suspendedStart",f="suspendedYield",m="executing",p="completed",d={},v={};v[c]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(F([])));g&&g!==n&&a.call(g,c)&&(v=g);var E=O.prototype=N.prototype=Object.create(v);j.prototype=E.constructor=O,O.constructor=j,O[l]=j.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===j||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(E),e},u.awrap=function(e){return{__await:e}},x(L.prototype),L.prototype[i]=function(){return this},u.AsyncIterator=L,u.async=function(e,t,r,n){var a=new L(w(e,t,r,n));return u.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(E),E[l]="Generator",E[c]=function(){return this},E.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=F,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return n("end");if(c.tryLoc<=this.prev){var l=a.call(c,"catchLoc"),s=a.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return n(c.catchLoc,!0);if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return n(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return n(c.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function w(e,t,r,n){var a=t&&t.prototype instanceof N?t:N,o=Object.create(a.prototype),c=new P(n||[]);return o._invoke=function(e,t,r){var n=h;return function(a,o){if(n===m)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw o;return A()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=k(c,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=m;var l=b(e,t,r);if("normal"===l.type){if(n=r.done?p:f,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=p,r.method="throw",r.arg=l.arg)}}}(e,r,c),o}function b(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function N(){}function j(){}function O(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function L(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,c){var i=b(e[r],e,n);if("throw"!==i.type){var l=i.arg,s=l.value;return s&&"object"===typeof s&&a.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,o,c)},function(e){t("throw",e,o,c)}):Promise.resolve(s).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,c)})}c(i.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=b(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function F(e){if(e){var t=e[c];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},158:function(e,t,r){"use strict";function n(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(s){return void r(s)}i.done?t(l):Promise.resolve(l).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var c=e.apply(t,r);function i(e){n(c,a,o,i,l,"next",e)}function l(e){n(c,a,o,i,l,"throw",e)}i(void 0)})}}r.d(t,"a",function(){return a})},580:function(e,t,r){"use strict";r.r(t);var n=r(154),a=r.n(n),o=r(158),c=r(4),i=r(5),l=r(8),s=r(6),u=r(7),h=r(0),f=r.n(h),m=r(19),p=r(44),d=r(9),v=(r(168),r(137)),y=r(10),g=r(13),E=(r(30),r(14)),w=r(70),b=(r(159),r(15)),N=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!1},r.removeFromFavList=function(e){r.setState({loading:!0}),m.a.put(Object(y.e)(e),{is_active:!1}).then(function(e){g.toast.error("This locality removed from your favorite list"),r.props.fetchPlaces(),r.setState({loading:!1})}).catch(function(e){g.toast.error("an error occured"),r.setState({loading:!1})})},r.fetchPlaces=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({loading:!0}),m.a.get(y.c).then(function(e){r.setState({localities:e.data,loading:!1})}).catch(function(e){r.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.locality;return f.a.createElement("div",{className:"product-box"},this.state.loading&&f.a.createElement("div",{className:"loading-cls"}),f.a.createElement("div",{className:"img-wrapper"},f.a.createElement("div",{className:"front"},f.a.createElement(w.a,{to:"".concat("","/places/").concat(t.place)},f.a.createElement("img",{src:"".concat(y.E).concat(t.place_image),className:"img-fluid",alt:"",loading:"lazy"}))),f.a.createElement("div",{className:"cart-info cart-wrap"},f.a.createElement("button",{title:"Add to cart",onClick:function(){return e.removeFromFavList(t.id)}},f.a.createElement("i",null,f.a.createElement(E.a,{icon:b.j,color:"#ff4c3b"}))))),f.a.createElement("div",{className:"product-detail"},f.a.createElement("div",null,f.a.createElement(w.a,{to:"".concat("","/places/").concat(t.place)},f.a.createElement("h4",null,t.place_name)),f.a.createElement("br",null))))}}]),t}(h.Component),j=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!1},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.localities;return f.a.createElement("div",null,f.a.createElement(g.ToastContainer,null),this.state.loading&&f.a.createElement("div",{className:"loading-cls"}),t&&f.a.createElement("section",{className:"ratio_asos metro-section portfolio-section light-layout section-b-space"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col"},f.a.createElement("div",{className:"title4"},f.a.createElement("br",null),f.a.createElement("h3",{className:"title-inner4"}," Favorite Localities"),f.a.createElement("div",{className:"line"},f.a.createElement("span",null)))))),f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col"},f.a.createElement("div",{className:"no-slider row"},t.map(function(t,r){return f.a.createElement(N,{locality:t,fetchPlaces:e.props.fetchPlaces,key:r})})))))))}}]),t}(h.Component),O=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).removeFromFavList=function(e){m.a.put(Object(y.f)(e),{is_active:!1}).then(function(e){r.setState({message:"Shop removed from your favorite list"}),g.toast.error("This shop removed from your favorite list"),r.props.fetchShops()}).catch(function(e){r.setState({error:e})})},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.shop;return f.a.createElement("div",{className:"product-box"},f.a.createElement("div",{className:"img-wrapper"},f.a.createElement("div",{className:"front"},f.a.createElement(w.a,{to:"".concat("","/shops/").concat(t.shop)},f.a.createElement("img",{src:"".concat(y.E).concat(t.shop_image),className:"img-fluid",alt:""}))),f.a.createElement("div",{className:"cart-info cart-wrap"},f.a.createElement("button",{title:"Add to cart",onClick:function(){return e.removeFromFavList(t.id)}},f.a.createElement("i",null,f.a.createElement(E.a,{icon:b.j,color:"#ff4c3b"}))))),f.a.createElement("div",{className:"product-detail"},f.a.createElement("div",null,f.a.createElement(w.a,{to:"".concat("","/shops/").concat(t.shop)},f.a.createElement("h4",null,t.shop_name)),f.a.createElement("br",null),f.a.createElement("h4",null,t.shop_place_name))))}}]),t}(h.Component),x=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!1},r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.shops;return f.a.createElement("div",null,this.state.loading&&f.a.createElement("div",{className:"loading-cls"}),f.a.createElement("section",{className:"ratio_asos metro-section portfolio-section light-layout section-b-space"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col"},f.a.createElement("div",{className:"title4"},f.a.createElement("br",null),f.a.createElement("h3",{className:"title-inner4"}," Favorite Shops"),f.a.createElement("div",{className:"line"},f.a.createElement("span",null)))))),f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col"},f.a.createElement("div",{className:"no-slider row"},t.map(function(t,r){return f.a.createElement(O,{shop:t,fetchShops:e.props.fetchShops,key:r})})))))))}}]),t}(h.Component),L=function(e){function t(){var e,r;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return(r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!1,error:null,localities:[],shops:[]},r.fetchPlaces=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({loading:!0}),m.a.get(y.c).then(function(e){r.setState({localities:e.data,loading:!1})}).catch(function(e){r.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),r.fetchShops=Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({loading:!0}),m.a.get(y.d).then(function(e){r.setState({shops:e.data,loading:!1})}).catch(function(e){r.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),r}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#"),this.fetchPlaces(),this.fetchShops()}},{key:"render",value:function(){var e=this.state,t=e.localities,r=e.shops;return this.props.token?f.a.createElement("div",null,f.a.createElement(p.Helmet,null,f.a.createElement("title",null,"Local Dukans")),f.a.createElement("div",null,t?f.a.createElement(j,{localities:t,fetchPlaces:this.fetchPlaces}):f.a.createElement("p",null,"No locality in favorite list. Please click on Heart button on any locality to have them added here"," ")),f.a.createElement("div",null,r?f.a.createElement(x,{shops:r,fetchShops:this.fetchShops}):f.a.createElement("p",null,"No shops in favorite list. Please click on Heart button on any locality to have them added here")," ")):f.a.createElement(v.a,{to:"/login"})}}]),t}(h.Component);t.default=Object(d.connect)(function(e){return{token:e.auth.token}})(L)}}]);
//# sourceMappingURL=25.3b766e61.chunk.js.map