(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{578:function(e,t,a){"use strict";a.r(t);var n=a(31),r=a(76),o=a(3),s=a(4),c=a(6),l=a(5),u=a(7),m=a(0),i=a.n(m),h=a(12),d=a(213),p=a(217),f=a(193),b=a(209),g=a(41),E=a(13),O=a(2),C=(a(30),a(113)),y=a(216),S=a(267),_=a(191),v=a(189),j=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.orders;return i.a.createElement(y.a,{fluid:!0},i.a.createElement(S.a,null,i.a.createElement(_.a,null,e.map(function(e,t){return i.a.createElement(v.a,{sm:4},i.a.createElement(d.a,{key:t,bg:"secondary",text:"light",style:{width:"21rem"},className:"mb-2"},i.a.createElement(d.a.Header,null,e.customer_name," ",i.a.createElement("br",null)),i.a.createElement(d.a.Body,null,i.a.createElement(d.a.Title,null,"Order No: ",e.id),e.place_name," ",i.a.createElement("br",null),e.area_name," ",i.a.createElement("br",null),e.mobile_number," ",i.a.createElement("br",null),e.start_date," ",i.a.createElement("br",null),e.orderStatus," ",i.a.createElement("br",null),i.a.createElement(C.a,{to:"order/".concat(e.id)},i.a.createElement(f.a,{variant:"secondary"},"More")))))}))))}}]),t}(m.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).fetchOrders=function(e){var t=a.state,n=t.area,r=t.order_status,o=t.phone_number,s=t.name;console.log(r);var c=a.props.userType;h.a.get(O.N,{params:{userType:c,area:n,order_status:r,phone_number:o,name:s}}).then(function(e){a.setState({orders:e.data})}).catch(function(e){a.setState({loading:!1,error:e})})},a.fetchOrderStatus=function(){h.a.get(O.S).then(function(e){a.setState({orderStatus:e.data})}).catch(function(e){})},a.fetchAreas=function(){h.a.get(O.A).then(function(e){a.setState({areas:e.data})}).catch(function(e){})},a.handleChangeArea=function(e){a.setState({area:e.name})},a.handleChangeStatus=function(e){a.setState({order_status:e.name})},a.state={orders:[],areas:[],area:"",orderStatus:[],order_status:"",form:{phone_number:"",name:""}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchAreas(),this.fetchOrders(),this.fetchOrderStatus(),this.props.fetchUserType()}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState({form:Object(r.a)({},this.state.form,Object(n.a)({},t,a))})}},{key:"render",value:function(){var e=this.state,t=(e.order_status,e.orderStatus),a=e.areas,n=(e.area,e.name,e.orders);e.phone_number;return console.log(n),i.a.createElement("div",null,i.a.createElement(d.a,{ClassName:"h-100 shadow-sm bg-white rounded"},i.a.createElement(d.a.Body,{ClassName:"d-flex felx-column"},i.a.createElement("div",{ClassName:"a-flex mb-2 justify-content-between"},i.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeStatus,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:t,isSearchable:!0,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select order status",autoFocus:!0,menuIsOpen:this.state.menuOpen}),i.a.createElement(b.a,{className:"mb-3",onChange:this.handleChangeArea,getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(e)},options:a,isSearchable:!0,onInputChange:this.handleInputChange,noOptionsMessage:function(){return null},placeholder:"Select area",autoFocus:!0,menuIsOpen:this.state.menuOpen}),i.a.createElement(p.a,null,i.a.createElement(p.a.Group,{controlId:"formGridcustomer_name"},i.a.createElement(p.a.Control,{type:"text",name:"name",placeholder:"Customer Name",ClassName:"mb-3",defaultValue:this.state.form.name,onChange:this.handleChange.bind(this)})),i.a.createElement(p.a.Group,{controlId:"formGridphone_number"},i.a.createElement(p.a.Control,{type:"text",name:"phone_number",placeholder:"Phone Number",ClassName:"mb-3",defaultValue:this.state.form.phone_number,onChange:this.handleChange.bind(this)})),i.a.createElement(f.a,{variant:"primary",onClick:this.fetchOrders},"Submit"))))),n?i.a.createElement("div",null,i.a.createElement(j,{orders:n})):i.a.createElement("p",null,"No order to show"))}}]),t}(m.Component);t.default=Object(E.connect)(function(e){return{userType:e.user.user.UserType,token:e.auth.token}},function(e){return{fetchUserType:function(){return e(Object(g.b)())}}})(N)}}]);
//# sourceMappingURL=39.7587c253.chunk.js.map