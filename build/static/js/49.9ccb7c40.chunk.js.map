{"version":3,"sources":["components/ld/orders/main.jsx"],"names":["Orders","props","_this","Object","_Users_swalihvpm_Desktop_django_react_ftest_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_swalihvpm_Desktop_django_react_ftest_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_swalihvpm_Desktop_django_react_ftest_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleFetchOrdersScroll","setState","loading","_this$state","state","offset","limit","authAxios","get","orderListURL","concat","then","res","orders","data","hasMore","catch","err","error","message","newOrders","query","_this2","_this2$state","_this$state2","_this$props","userType","token","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_common_breadcrumb__WEBPACK_IMPORTED_MODULE_8__","title","react_infinite_scroll_component__WEBPACK_IMPORTED_MODULE_10___default","dataLength","length","next","loader","className","endMessage","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","style","color","to","onClick","handleFetchOrders","map","order","index","key","aria-hidden","shop_name","id","start_date","orderStatus","react_bootstrap__WEBPACK_IMPORTED_MODULE_11__","variant","size","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","Component","connect","user","auth"],"mappings":"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","file":"static/js/49.9ccb7c40.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Breadcrumb from \"../common/breadcrumb\";\nimport { connect } from \"react-redux\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { Button } from \"react-bootstrap\";\n\nimport { orderListURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\n// import { fetchUser } from \"../../../actions/user\";\n\nclass Orders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orders: [],\n      newOrders: [],\n      loading: false,\n      error: null,\n      offset: 0,\n      limit: 2,\n      query: \"all\",\n      // query: 184\n      hasMore: true\n    };\n  }\n\n  componentWillMount() {\n    // this.props.fetchUserType();\n\n    this.setState({ loading: true }, () => {\n      const { offset, limit, query } = this.state;\n      authAxios\n        // .get(orderListURL)\n        .get(orderListURL + `?limit=${limit}&offset=${offset}`)\n        .then(res => {\n          this.setState({ orders: res.data.orders });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  }\n\n  handleFetchOrdersScroll = () => {\n    this.setState({ loading: true }, () => {\n      const { offset, limit } = this.state;\n      this.setState({ offset: this.state.offset + limit });\n      authAxios\n        .get(orderListURL + `?limit=${limit}&offset=${offset}`)\n        // .get(orderListURL)\n        .then(res => {\n          this.setState({ orders: this.state.orders.concat(res.data.orders) });\n          this.setState({ hasMore: res.data.hasMore });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  };\n\n  render() {\n    const { orders, hasMore, query, limit } = this.state;\n    const { userType, token } = this.props;\n    // console.log(123);\n\n    if (!token) {\n      return <Redirect to=\"/login\" />;\n    }\n\n    return (\n      <div>\n        <Breadcrumb title={\"My Orders\"} />\n\n        {orders && (\n          <div>\n            <InfiniteScroll\n              dataLength={this.state.orders.length} //This is important field to render the next data\n              next={this.handleFetchOrdersScroll}\n              hasMore={this.state.hasMore}\n              loader={<div className=\"loading-cls\"></div>}\n              endMessage={\n                <p className=\"seen-cls seen-it-cls\">\n                  <b>No more order to show</b>\n                </p>\n              }\n            >\n              <section className=\"section-b-space\">\n                <div className=\"container\">\n                  <div className=\"account-sidebar\">\n                    <Link\n                      style={{ color: \"#FFF\" }}\n                      to={`/orders`}\n                      onClick={this.handleFetchOrders}\n                    >\n                      My Orders\n                    </Link>\n                  </div>\n                  {orders.map((order, index) => (\n                    <div key={index} className=\"row\">\n                      <div className=\"col-lg-3\">\n                        <div className=\"dashboard-left\">\n                          <div className=\"collection-mobile-back\">\n                            <span className=\"filter-back\">\n                              <i\n                                className=\"fa fa-angle-left\"\n                                aria-hidden=\"true\"\n                              ></i>{\" \"}\n                              back\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"col-lg-9\">\n                        <div className=\"dashboard-right\">\n                          <div className=\"dashboard\">\n                            <div className=\"box-account box-info\">\n                              <div className=\"box-head\">\n                                <h3>{order.shop_name}</h3>\n                              </div>\n                              <div className=\"row\">\n                                <div className=\"col-sm-6\">\n                                  <div className=\"box\">\n                                    <div className=\"box-title\">\n                                      <h4>Order ID: {order.id}</h4>\n                                    </div>\n\n                                    <div className=\"box-content\">\n                                      <h6>Date: {order.start_date}</h6>\n                                      <h6>Status: {order.orderStatus}</h6>\n                                      <br></br>\n\n                                      <Link to={`customer-order/${order.id}`}>\n                                        <Button\n                                          variant=\"outline-primary\"\n                                          size=\"sm\"\n                                        >\n                                          View More\n                                        </Button>\n                                      </Link>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </section>\n            </InfiniteScroll>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    // userType: state.user.user.UserType,\n    user: state.user,\n    token: state.auth.token\n  };\n};\n\nexport default connect(mapStateToProps)(Orders);\n\n// export default Orders;\n"],"sourceRoot":""}