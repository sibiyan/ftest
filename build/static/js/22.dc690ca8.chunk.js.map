{"version":3,"sources":["components/ld/styled/jumbotron.jsx","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/ld/localityList/locality-item.jsx","components/ld/localityList/main.jsx"],"names":["styled","h1","_templateObject","p","_templateObject2","div","_templateObject3","Card","_templateObject4","props","imgurl","CardInfo","_templateObject5","CardTitle","_templateObject6","StyledCover","_templateObject7","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__","ProductStyleFour","addToWishList","place","_this","setState","loading","authAxios","post","AddToFavoritePlacesURL","then","res","toast","success","catch","err","response","status","error","locality","this","react_default","a","createElement","Fragment","Link","to","concat","process","id","jumbotron","localhost","image","village_name","name","Component","LocalityListSection","LoaderWrap","LocalityList","classCallCheck","possibleConstructorReturn","getPrototypeOf","fetchlaces","_this$state","state","offset","limit","query","axios","get","placeListURL","newLocalities","data","places","hasMore","has_more","localities","toConsumableArray","message","setQuery","e","target","value","callbacktest","console","log","window","onscroll","_assertThisInitialize","assertThisInitialized","_assertThisInitialize2","document","documentElement","scrollHeight","scrollTop","clientHeight","_this$state2","loader","map","index","locality_item","key","React","PureComponent"],"mappings":"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","file":"static/js/22.dc690ca8.chunk.js","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Title = styled.h1`\n  font-family: \"Raleway\";\n  font-size: 24px;\n  font-weight: 700;\n  color: #5d4037;\n  text-align: center;\n`;\nexport const Subheading = styled.p`\n  line-height: 1.5em;\n`;\nexport const Container = styled.div`\n  justify-content: center;\n  align-items: stretch;\n  align-content: stretch;\n`;\n\nexport const Card = styled.div`\n  position: relative;\n  width: 350px;\n  height: 350px;\n  background-color: #333;\n  background-image: url(${props => props.imgurl});\n  background-size: cover;\n  margin: 0 5px 30px 5px;\n  border-radius: 10px;\n  box-shadow: rgba(black, 0.66) 0 30px 60px 0, inset #333 0 0 0 5px,\n    inset rgba(white, 0.5) 0 0 0 6px;\n  transition: 1s $returnEasing;\n  &:hover {\n    box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  }\n`;\nexport const CardInfo = styled.div`\n  padding: 5px;\n  position: absolute;\n  bottom: 0;\n  color: #fff;\n`;\n\nexport const CardTitle = styled.h1`\n  text-shadow: 0 1px 0 black;\n  font-family: \"Playfair Display\";\n  color: #fff;\n  font-size: 25px;\n  font-weight: 800;\n  margin-bottom: 1rem;\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6));\n`;\n\nexport const StyledCover = styled.div`\n  position: relative;\n  height: 30vh;\n  margin-left: 0;\n  margin-right: 0;\n  background-image: url(${props => props.imgurl});\n  background-size: cover;\n  background-position: center;\n`;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"react-responsive-modal\";\nimport { localhost } from \"../../../constants\";\nimport { ArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { AddToFavoritePlacesURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport styled from \"styled-components\";\nimport { Card, CardInfo, CardTitle } from \"../styled/jumbotron\";\n\nclass ProductStyleFour extends Component {\n  addToWishList = place => {\n    this.setState({ loading: true });\n    authAxios\n      .post(AddToFavoritePlacesURL, { place })\n      .then(res => {\n        this.setState({ loading: false });\n        toast.success(\"This locality added to your favorites\");\n      })\n      .catch(err => {\n        if (err.response.status === 401) {\n          toast.error(\"Please login to add to favorites\");\n          this.setState({ loading: false });\n        } else if (err.response.status === 400) {\n          toast.error(\"This locality already exists in your favorites\");\n          this.setState({ loading: false });\n        } else {\n          toast.error(\"An error occured\");\n        }\n      });\n  };\n  render() {\n    const { locality } = this.props;\n    // console.log(locality);\n\n    return (\n      <>\n        <Link to={`${process.env.PUBLIC_URL}/places/${locality.id}`}>\n          <Card imgurl={`${localhost}${locality.image}`}>\n            <CardInfo>\n              {locality.village_name}\n              <CardTitle>{locality.name}</CardTitle>\n            </CardInfo>\n          </Card>\n        </Link>\n      </>\n    );\n  }\n}\n\nexport default ProductStyleFour;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { AddToFavoritePlacesURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Locality from \"./locality-item\";\nimport { placeListURL } from \"../../../constants\";\nimport styled from \"styled-components\";\nimport { PageLoader } from \"../common/loader\";\n\nconst LocalityListSection = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin: 5px;\n  padding-top: 20px;\n`;\n\nconst LoaderWrap = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n  position: absolute;\n  /* top: 0; */\n  left: 0;\n  /* bottom: 0; */\n  right: 0;\n`;\n\nexport const CardTitle = styled.h1`\n  display: flex;\n  justify-content: center;\n  font-family: \"Playfair Display\";\n  color: #333333;\n  font-size: 30px;\n  font-weight: 800;\n  /* margin-bottom: 3rem; */\n  /* margin-top: 3rem; */\n  text-shadow: rgba(black, 0.5) 0 10px 10px;\n`;\n\nclass LocalityList extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: null,\n      localities: [],\n      // journals: [],\n      hasMore: true,\n      offset: 0,\n      limit: 10,\n      query: \"all\",\n      newLocalities: []\n    };\n    window.onscroll = () => {\n      const {\n        fetchlaces,\n        state: { error, loading, hasMore }\n      } = this;\n      if (error || loading || !hasMore) return;\n      if (\n        document.documentElement.scrollHeight -\n          document.documentElement.scrollTop ===\n        document.documentElement.clientHeight\n      ) {\n        // call some loading method\n        fetchlaces();\n      }\n    };\n  }\n\n  // componentWillMount() {\n  //   this.fetchlaces();\n  // }\n\n  componentDidMount() {\n    // document.getElementById(\"color\").setAttribute(\"href\", `#`);\n    this.fetchlaces();\n  }\n\n  fetchlaces = () => {\n    this.setState({ loading: true }, () => {\n      const { offset, limit, query } = this.state;\n      // console.log(query);\n      axios\n        .get(placeListURL + `?limit=${limit}&offset=${offset}&q=${query}`)\n        .then(res => {\n          const newLocalities = res.data.places;\n          const hasMore = res.data.has_more;\n          this.setState({\n            hasMore,\n            loading: false,\n            localities: [...this.state.localities, ...newLocalities],\n            newLocalities: res.data.places,\n            offset: offset + limit\n          });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  };\n\n  setQuery = e => {\n    this.setState({ query: e.target.value });\n    this.callbacktest();\n  };\n\n  callbacktest = () => {\n    console.log(this.state.query);\n  };\n\n  // handleSearch = e => {\n  //   e.preventDefault();\n  //   this.fetchlaces();\n  // };\n\n  addToWishList = place => {\n    this.setState({ loading: true });\n    authAxios\n      // .post(AddToFavoritePlacesURL  { shop })\n      .post(AddToFavoritePlacesURL, { place })\n      .then(res => {\n        this.setState({ loading: false });\n        toast.success(\"This locality added to your favorites\");\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n        toast.error(\"This locality already exists in your favorites\");\n      });\n  };\n\n  render() {\n    const { localities, query, hasMore } = this.state;\n    // console.log(localities);\n\n    return (\n      <>\n        <CardTitle>Localities</CardTitle>\n        {this.state.loading ? (\n          <LoaderWrap>\n            <PageLoader loading={true} />\n          </LoaderWrap>\n        ) : null}\n        {localities && (\n          <>\n            <LocalityListSection>\n              {localities.map((locality, index) => (\n                <Locality locality={locality} key={index} />\n              ))}\n            </LocalityListSection>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default LocalityList;\n"],"sourceRoot":""}