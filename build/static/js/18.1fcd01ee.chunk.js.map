{"version":3,"sources":["components/ld/pages/login.jsx"],"names":["Login","state","username","password","success","loading","handleChange","e","_this","setState","Object","_Users_swalihvpm_Desktop_django_react_ftest_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","name","value","handleSubmit","preventDefault","_this$state","props","login","error","toast","token","setTimeout","console","log","fetchUser","_this$props","this","_this$state2","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","_common_breadcrumb__WEBPACK_IMPORTED_MODULE_13__","title","className","onSubmit","htmlFor","onChange","type","id","placeholder","required","href","Component","connect","auth","dispatch","authLogin"],"mappings":"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","file":"static/js/18.1fcd01ee.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { authLogin } from \"../../../actions/auth\";\nimport { fetchUser } from \"../../../actions/user\";\nimport { Redirect, Link } from \"react-router-dom\";\n// import createHistory from \"history/createBrowserHistory\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Breadcrumb from \"../common/breadcrumb\";\n\nclass Login extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    success: false,\n    loading: false\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    if (username && password) {\n      this.setState({ loading: true });\n      this.props.login(username, password);\n      this.setState({ loading: false });\n      // no error\n      if (this.props.error) {\n        toast.error(\"incorrect username or password\");\n      } else {\n        if (this.props.token) {\n          // this.props.fetchUser();\n          setTimeout(() => {\n            console.log(\"fetching user type\");\n            this.props.fetchUser();\n          }, 3000);\n        }\n        toast.success(\"You have logged in successfully \");\n      }\n      // no user name and pasword filled\n    } else {\n      toast.error(\"please provide username and password\");\n    }\n  };\n  render() {\n    const { error, loading, token } = this.props;\n    const { username, password } = this.state;\n    // console.log(this.props.token);\n\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div>\n        <Breadcrumb title={\"Login\"} />\n        {this.state.loading && <div className=\"loading-cls\"></div>}\n        {/*Login section*/}\n        <div className=\"login-page section-b-space\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-lg-6\">\n                <h3>Login</h3>\n                <div className=\"theme-card\">\n                  <form className=\"theme-form\" onSubmit={this.handleSubmit}>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"username\">User Name</label>\n                      <input\n                        onChange={this.handleChange}\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"username\"\n                        value={username}\n                        name=\"username\"\n                        placeholder=\"username\"\n                        required=\"\"\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"review\">Password</label>\n                      <input\n                        onChange={this.handleChange}\n                        type=\"password\"\n                        className=\"form-control\"\n                        id=\"password\"\n                        placeholder=\"Enter your password\"\n                        required=\"\"\n                        value={password}\n                        name=\"password\"\n                      />\n                    </div>\n                    {/* <a href=\"#\" className=\"btn btn-solid\">\n                      Login\n                    </a> */}\n                    <input\n                      onChange={this.handleSubmit}\n                      type=\"submit\"\n                      className=\"btn btn-solid\"\n                      id=\"submit\"\n                      placeholder=\"Submit\"\n                      required=\"\"\n                    />\n                  </form>\n                </div>\n              </div>\n              <div className=\"col-lg-6 right-login\">\n                {/* <h3>Forgot Password?</h3> */}\n                <div className=\"theme-card authentication-right\">\n                  <h6 className=\"title-font\">Forgot Password?</h6>\n                  Call us please....\n                </div>\n              </div>\n              <div className=\"col-lg-6 right-login\">\n                <h3>New Customer?</h3>\n                <div className=\"theme-card authentication-right\">\n                  <h6 className=\"title-font\">Create A Account</h6>\n\n                  <p>\n                    Sign up for a free account at our store. Registration is\n                    quick and easy. It allows you to be able to order from our\n                    shop. To start shopping click register. <br></br> <br></br>{\" \"}\n                    Local Dukans does deal with shops's billing, but just a\n                    platform for small localities to survive in the time of this\n                    pandemic, Covid-19. For any billing or product related\n                    issues, please contact the shop owners. By signing up, you\n                    agree to this terms and condditions.\n                  </p>\n                  <a href=\"/pages/register\" className=\"btn btn-solid\">\n                    Create an Account\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password)),\n    fetchUser: () => dispatch(fetchUser())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login);\n\n// export default Login;\n"],"sourceRoot":""}