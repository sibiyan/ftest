(window.webpackJsonp=window.webpackJsonp||[]).push([[6,7],{388:function(e,t,a){"use strict";var n=a(9),c=a(10),l=a(13),r=a(11),o=a(12),s=a(0),i=a.n(s),u=a(36),m=a.n(u),d=a(209),f=a(39),h=a(38),p=a(4),E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(o)))).state={error:!1,query:"all",results:[],offset:0,limit:20,display:!1},a.getInfo=function(){var e=a.state,t=e.offset,n=e.limit,c=e.query;m.a.get(p.V+"?limit=".concat(n,"&offset=").concat(t,"&q=").concat(c)).then(function(e){a.setState({results:e.data.places,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})})},a.handleInputChange=function(){a.setState({query:a.search.value},function(){a.state.query&&a.state.query.length>1?a.state.query.length%2===0&&a.getInfo():a.state.query})},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.results;t.display;return i.a.createElement("section",{className:"authentication-page section-b-space"},i.a.createElement("div",{className:"container"},i.a.createElement("section",{className:"search-block"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6 offset-lg-3"},i.a.createElement("form",{className:"form-header"},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",className:"form-control","aria-label":"Amount (to the nearest dollar)",placeholder:"Search Localities......",name:"query",ref:function(t){return e.search=t},onChange:this.handleInputChange,autoComplete:"off"}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-solid"},i.a.createElement("i",null,i.a.createElement(h.a,{icon:f.h}))))),i.a.createElement("div",null,a.map(function(e,t){return i.a.createElement("div",{className:"option",key:t,tabIndex:"0"},i.a.createElement(d.a,{to:"".concat("","/places/").concat(e.id)},i.a.createElement("span",null,e.name)))})))))))))}}]),t}(s.Component);t.a=E},420:function(e,t){},421:function(e,t){},422:function(e,t){},427:function(e,t){},428:function(e,t){},448:function(e,t){},450:function(e,t){},471:function(e,t,a){"use strict";a.r(t);var n=a(395),c=a(9),l=a(10),r=a(13),o=a(11),s=a(12),i=a(160),u=a(0),m=a.n(u),d=a(36),f=a.n(d),h=a(107),p=(a(210),a(375),a(156),a(4)),E=a(6),v=a(17),g=(a(62),a(38)),b=(a(211),a(209)),y=(a(158),a(39)),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(l)))).addToWishList=function(e){a.setState({loading:!0}),E.a.post(p.a,{place:e}).then(function(e){a.setState({loading:!1}),v.toast.success("This locality added to your favorites")}).catch(function(e){401===e.response.status?(v.toast.error("Please login to add to favorites"),a.setState({loading:!1})):400===e.response.status?(v.toast.error("This locality already exists in your favorites"),a.setState({loading:!1})):v.toast.error("An error occured")})},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.locality;return m.a.createElement("div",{className:"product-box"},m.a.createElement("div",{className:"img-wrapper"},m.a.createElement("div",{className:"front"},m.a.createElement(b.a,{to:"".concat("","/places/").concat(t.id)},m.a.createElement("img",{src:"".concat(p.G).concat(t.image),className:"img-fluid",alt:""}))),m.a.createElement("div",{className:"cart-info cart-wrap"},m.a.createElement("button",{title:"Add to cart",onClick:function(){return e.addToWishList(t.id)}},m.a.createElement("i",null,m.a.createElement(g.a,{icon:y.d,size:"lg",color:"#ff4c3b"}))))),m.a.createElement("div",{className:"product-detail"},m.a.createElement("div",null,m.a.createElement(b.a,{to:"".concat("","/places/").concat(t.id)},m.a.createElement("h4",null,t.name)),m.a.createElement("br",null),m.a.createElement("h6",null,t.village_name," Village"))))}}]),t}(u.Component),j=a(388),O=(a(419),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).fetchlaces=function(){a.setState({loading:!0},function(){var e=a.state,t=e.offset,c=e.limit,l=e.query;f.a.get(p.V+"?limit=".concat(c,"&offset=").concat(t,"&q=").concat(l)).then(function(e){var l=e.data.places,r=e.data.has_more;a.setState({hasMore:r,loading:!1,localities:Object(n.a)(a.state.localities).concat(Object(n.a)(l)),newLocalities:e.data.places,offset:t+c})}).catch(function(e){a.setState({error:e.message,loading:!1})})})},a.setQuery=function(e){a.setState({query:e.target.value}),a.callbacktest()},a.callbacktest=function(){console.log(a.state.query)},a.addToWishList=function(e){a.setState({loading:!0}),E.a.post(p.a,{place:e}).then(function(e){a.setState({loading:!1}),v.toast.success("This locality added to your favorites")}).catch(function(e){a.setState({error:e,loading:!1}),v.toast.error("This locality already exists in your favorites")})},a.state={loading:!1,error:null,localities:[],hasMore:!0,offset:0,limit:2,query:"all",newLocalities:[]},window.onscroll=function(){var e=Object(i.a)(Object(i.a)(a)),t=e.fetchlaces,n=e.state,c=n.error,l=n.loading,r=n.hasMore;c||l||!r||document.documentElement.scrollHeight-document.documentElement.scrollTop===document.documentElement.clientHeight&&t()},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#"),this.fetchlaces()}},{key:"render",value:function(){var e=this.state,t=e.localities;e.query,e.hasMore;return m.a.createElement("div",null,m.a.createElement(h.Helmet,null,m.a.createElement("title",null,"Local Dukans")),m.a.createElement(v.ToastContainer,null),this.state.loading&&m.a.createElement("div",{className:"loading-cls"}),m.a.createElement(j.a,null),t&&m.a.createElement("section",{className:"ratio_asos metro-section portfolio-section light-layout section-b-space"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("div",{className:"title4"},m.a.createElement("br",null),m.a.createElement("h2",{className:"title-inner4"}," Localities"),m.a.createElement("div",{className:"line"},m.a.createElement("span",null)))))),m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("div",{className:"no-slider row"},t.map(function(e,t){return m.a.createElement(N,{locality:e,key:t})})))))))}}]),t}(m.a.PureComponent));t.default=O},605:function(e,t,a){"use strict";a.r(t);var n=a(18),c=a.n(n),l=a(29),r=a(9),o=a(10),s=a(13),i=a(11),u=a(12),m=a(0),d=a.n(m),f=a(36),h=a.n(f),p=a(107),E=(a(210),a(375)),v=a.n(E),g=a(156),b=a(4),y=a(6),N=a(17),j=(a(62),a(38)),O=a(209),w=(a(158),a(39)),S=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).addToWishList=function(e){a.setState({loading:!0}),y.a.post(b.a,{place:e}).then(function(e){a.setState({loading:!1}),N.toast.success("This locality added to your favorites")}).catch(function(e){401===e.response.status?(N.toast.error("Please login to add to favorites"),a.setState({loading:!1})):400===e.response.status?(N.toast.error("This locality already exists in your favorites"),a.setState({loading:!1})):N.toast.error("An error occured")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.locality;return d.a.createElement("div",{className:"product-box"},d.a.createElement("div",{className:"img-wrapper"},d.a.createElement("div",{className:"front"},d.a.createElement(O.a,{to:"".concat("","/places/").concat(t.id)},d.a.createElement("img",{src:t.image,className:"img-fluid",alt:""}))),d.a.createElement("div",{className:"cart-info cart-wrap"},d.a.createElement("button",{title:"Add to cart",onClick:function(){return e.addToWishList(t.id)}},d.a.createElement("i",null,d.a.createElement(j.a,{icon:w.d,size:"lg",color:"#ff4c3b"}))))),d.a.createElement("div",{className:"product-detail"},d.a.createElement("div",null,d.a.createElement(O.a,{to:"".concat("","/places/").concat(t.id)},d.a.createElement("h4",null,t.name)),d.a.createElement("br",null),d.a.createElement("h6",null,t.village_name," Village"))))}}]),t}(m.Component),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={loading:!1,error:null},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#")}},{key:"render",value:function(){var e=this.props.Newlocalities;return d.a.createElement("div",null,d.a.createElement(N.ToastContainer,null),this.state.loading&&d.a.createElement("div",{className:"loading-cls"}),d.a.createElement("section",{className:"ratio_asos metro-section portfolio-section light-layout section-b-space"},d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"title4"},d.a.createElement("br",null),d.a.createElement("h2",{className:"title-inner4"}," New Localities"),d.a.createElement("div",{className:"line"},d.a.createElement("span",null)))))),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},d.a.createElement(v.a,Object.assign({},g.a,{className:"product-4 product-m no-arrow"}),e.map(function(e,t){return d.a.createElement("div",{key:t,className:"col-xl-3 col-md-4 col-grid-box"},d.a.createElement(S,{locality:e}))})))))))}}]),t}(m.Component),A=(a(388),a(471)),T=a(211),x=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).addToWishList=function(e){a.setState({loading:!0}),y.a.post(b.b,{shop:e}).then(function(e){a.setState({loading:!1}),N.toast.success("This shop added to your favorites")}).catch(function(e){401===e.response.status?(N.toast.error("Please login to add to favorites"),a.setState({loading:!1})):400===e.response.status?(N.toast.error("This shop already exists in your favorites"),a.setState({loading:!1})):N.toast.error("An error occured")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.shop;return d.a.createElement("div",{className:"product-box"},d.a.createElement("div",{className:"img-wrapper"},d.a.createElement("div",{className:"front"},d.a.createElement(O.a,{to:"".concat("","/shops/").concat(t.id)},d.a.createElement("img",{src:t.image,className:"img-fluid",alt:""}))),d.a.createElement("div",{className:"cart-info cart-wrap"},d.a.createElement("button",{title:"Add to cart",onClick:function(){return e.addToWishList(t.id)}},d.a.createElement("i",null,d.a.createElement(j.a,{icon:w.d,size:"lg",color:"#ff4c3b"}))))),d.a.createElement("div",{className:"product-detail"},d.a.createElement("div",null,d.a.createElement(O.a,{to:"".concat("","/shops/").concat(t.id)},d.a.createElement("h4",null,t.name)),d.a.createElement("br",null),d.a.createElement("h6",null,t.place," "),d.a.createElement("h6",null,t.village," "," Village"))))}}]),t}(m.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={loading:!1},a.addToWishList=function(e){a.setState({loading:!0}),y.a.post(b.b,{shop:e}).then(function(e){a.setState({loading:!1}),N.toast.success("This shop added to your favorites")}).catch(function(e){401===e.response.status?(N.toast.error("Please login to add to favorites"),a.setState({loading:!1})):400===e.response.status?(N.toast.error("This locality already exists in your favorites"),a.setState({loading:!1})):N.toast.error("An error occured")})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#")}},{key:"render",value:function(){var e=this.props.featuredShops;return d.a.createElement("div",null,this.state.loading&&d.a.createElement("div",{className:"loading-cls"}),d.a.createElement("section",{className:"ratio_asos metro-section portfolio-section light-layout section-b-space"},d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"title4"},d.a.createElement("br",null),d.a.createElement("h2",{className:"title-inner4"}," Feautured Shops"),d.a.createElement("div",{className:"line"},d.a.createElement("span",null)))))),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},d.a.createElement(v.a,Object.assign({},g.a,{className:"product-4 product-m no-arrow"}),e.map(function(e,t){return d.a.createElement("div",{key:t,className:"col-xl-3 col-md-6 col-grid-box"},d.a.createElement(x,{shop:e}))})))))))}}]),t}(m.Component),I=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1,error:null,Newlocalities:[],featuredShops:[],appInfo:"",bannerImage1:""},a.fetchAppInfo=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),h.a.get(b.y).then(function(e){a.setState({appInfo:e.data[0],loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),a.fetchFeautredShops=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),h.a.get(b.F).then(function(e){a.setState({featuredShops:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),a.fetchNewPlaces=Object(l.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0}),h.a.get(b.H).then(function(e){a.setState({Newlocalities:e.data,loading:!1})}).catch(function(e){a.setState({error:e,loading:!1})});case 2:case"end":return e.stop()}},e,this)})),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("color").setAttribute("href","#"),this.fetchAppInfo(),this.fetchNewPlaces(),this.fetchFeautredShops()}},{key:"render",value:function(){var e=this.state,t=e.Newlocalities,a=e.appInfo,n=this.state.featuredShops;return d.a.createElement("div",null,d.a.createElement(p.Helmet,null,d.a.createElement("title",null,"Local Dukans")),this.state.loading&&d.a.createElement("div",{className:"loading-cls"}),d.a.createElement("section",{className:"p-0"},a&&d.a.createElement(T.Img,{className:"img-fluid lazyload bg-img",loading:"lazy",src:a.coverPhoto1,loader:d.a.createElement("div",{className:"loading-cls"})})),t&&d.a.createElement(k,{Newlocalities:t}),d.a.createElement(C,{featuredShops:n}),d.a.createElement(A.default,null),d.a.createElement("div",null))}}]),t}(m.Component);t.default=I}}]);
//# sourceMappingURL=6.05497c4c.chunk.js.map