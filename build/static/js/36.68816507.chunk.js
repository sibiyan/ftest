(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{562:function(e,a,t){"use strict";t.r(a);var r=t(3),l=t(4),n=t(6),c=t(5),s=t(7),o=t(0),d=t.n(o),m=t(113),u=t(29),i=t(13),E=(t(30),t(12)),h=t(41),p=t(197),f=t(11),v=(t(28),t(193)),N=t(192),b=t(191),g=t(189),S=t(2),O=function(e){function a(){var e,t;Object(r.a)(this,a);for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return(t=Object(n.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(s)))).state={order:[],loading:!1,ShopSuccess:!1,CustomerSuccess:!1,error:null,addressID:null,orderAddress:[],orderItems:[],orderID:null,shippingCharges:25,orderTotal:null,orderStatus:[],shopOrderStatus:[],staffOrderStatus:[],selectedOrderStatus:null},t.fetchOrder=function(){var e=t.props.match.params;t.setState({loading:!0}),E.a.get(Object(S.M)(e.orderID)).then(function(e){t.setState({order:e.data,loading:!1,addressID:e.data.address,orderID:e.data.id,orderItems:e.data.order_items,orderTotal:e.data.total}),t.handleCallback()}).catch(function(e){t.setState({error:e,loading:!1})})},t.handleCallback=function(){t.fetchAddress()},t.fetchAddress=function(){var e=t.state.addressID;t.setState({loading:!0}),E.a.get(Object(S.K)(e)).then(function(e){t.setState({orderAddress:e.data,loading:!1})}).catch(function(e){t.setState({error:e,loading:!1})})},t.orderCancelCustoemr=function(e){e.preventDefault();var a=t.state.orderID;console.log(4),E.a.put(Object(S.T)(a),{order_status:4}).then(function(e){f.toast.error("Order  cancelled"),t.setState({CustomerSuccess:!0})}).catch(function(e){t.setState({error:e})})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){this.fetchOrder(),this.props.fetchUserType()}},{key:"render",value:function(){var e=this.state,a=e.order,t=e.orderAddress,r=e.orderItems;e.ShopSuccess;return e.CustomerSuccess?d.a.createElement(p.a,{to:"/orders"}):d.a.createElement("div",null,d.a.createElement(f.ToastContainer,null),d.a.createElement(u.a,{title:"Order Details"}),d.a.createElement("section",{className:"section-b-space"},d.a.createElement("div",{className:"container padding-cls"},d.a.createElement(m.a,{to:"/orders"},d.a.createElement(v.a,{variant:"outline-info"},"Back to orders")," "),d.a.createElement("br",null),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-9"},d.a.createElement("div",{className:"dashboard-right"},d.a.createElement("div",{className:"dashboard"},d.a.createElement("div",{className:"box-account box-info"},d.a.createElement("div",{className:"box-head"},d.a.createElement("h3",null,a.shop_name)),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"box"},d.a.createElement("div",{className:"box-title"},d.a.createElement("h4",null,"Order No: ",a.id)),d.a.createElement("h6",null,"Date: ",a.start_date),d.a.createElement("h6",{className:"Pending"===a.status?"text-danger":""},"Status: ",a.orderStatus),d.a.createElement("h6",null,"Mod of Payment: ",a.mode_of_payment)),d.a.createElement("br",null),"Cancelled by customer"!==a.orderStatus?d.a.createElement(v.a,{type:"submit",variant:"outline-danger",size:"sm",onClick:this.orderCancelCustoemr},"Cancel order"):d.a.createElement(N.a,{variant:"danger"},"Order has been cancelled")))))))),a.coupon?d.a.createElement(b.a,null,d.a.createElement(g.a,null,d.a.createElement(N.a,{variant:"success"}," ",a.coupon_code," coupon Applied !!",a.coupon_offer))):null,a?d.a.createElement("div",{className:"row section-t-space"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement("div",{className:"stripe-section"},d.a.createElement("div",{className:"col-lg-6 col-sm-12 col-xs-12"},d.a.createElement("div",{className:"checkout-details"},d.a.createElement("div",{className:"order-box"},d.a.createElement("div",{className:"title-box"},d.a.createElement(b.a,null,d.a.createElement(g.a,{xs:8}," ",d.a.createElement("h4",null,"Product")," "),d.a.createElement(g.a,{xs:4}," ",d.a.createElement("h4",null,"Total")," "))),d.a.createElement("ul",{className:"qty"},r.map(function(e,a){return d.a.createElement(b.a,null,d.a.createElement(g.a,{xs:8}," ",e.itemLocalName?e.itemLocalName:e.itemName," ","[",e.vname,"] \xd7 ",e.quantity," "),d.a.createElement(g.a,{xs:4},"Rs: ",e.final_price))})),d.a.createElement("ul",{className:"total"},d.a.createElement("li",null,"Total"," ",d.a.createElement("span",{className:"count"},"Rs: ",a.total))))))))):"",d.a.createElement("div",{className:"row section-t-space"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement("div",{className:"stripe-section"},d.a.createElement("h5",null,"Address"),d.a.createElement("div",null,d.a.createElement("h5",{className:"checkout_class"},t.PlaceName),d.a.createElement("h6",{className:"checkout_class"},t.areaName),d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,t.full_address)),d.a.createElement("tr",null,d.a.createElement("td",null,t.districtName),d.a.createElement("td",null,t.vilalgeName)),d.a.createElement("tr",null,d.a.createElement("td",null," ",d.a.createElement("a",{href:"tel:"+t.phone_number},t.phone_number))))))))))))}}]),a}(o.Component);a.default=Object(i.connect)(function(e){return{userType:e.user.user.UserType}},function(e){return{fetchUserType:function(){return e(Object(h.b)())}}})(O)}}]);
//# sourceMappingURL=36.68816507.chunk.js.map