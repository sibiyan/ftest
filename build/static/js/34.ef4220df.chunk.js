(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{471:function(e,t,n){"use strict";n.r(t),n.d(t,"Card",function(){return _});var r=n(9),a=n(10),l=n(13),o=n(11),c=n(12),u=n(5),d=n(0),s=n.n(d),i=n(21),m=n(16),p=n(60),f=n(385),h=n(15),b=(n(71),n(382)),g=n(58),E=n(6),x=n(59),v=n(7);function O(){var e=Object(u.a)(["\n  padding-top: 5px;\n  padding-bottom: 5px;\n  margin-bottom: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return O=function(){return e},e}function y(){var e=Object(u.a)(["\n  display: grid;\n  grid-template-columns: 3fr 1fr;\n  height: auto;\n"]);return y=function(){return e},e}function S(){var e=Object(u.a)(["\n  display: inline-block;\n  padding: 10px 30px;\n  cursor: pointer;\n  background: #ff4c3b;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  border: 1px #fff solid;\n  width: 150px;\n"]);return S=function(){return e},e}function j(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  color: #333;\n  border-radius: 5px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n  padding: 20px;\n  margin: 10px;\n  width: 100%;\n  max-width: 800px;\n"]);return j=function(){return e},e}function C(){var e=Object(u.a)(["\n  margin: 20px auto 30px auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return C=function(){return e},e}E.b.div(C());var _=E.b.div(j()),k=E.b.button(S()),w=E.b.div(y()),I=E.b.div(O()),T=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(c)))).state={order:[],loading:!1,ShopSuccess:!1,CustomerSuccess:!1,error:null,addressID:null,orderAddress:[],orderItems:[],orderID:null,shippingCharges:25,orderTotal:null,orderStatus:[],shopOrderStatus:[],staffOrderStatus:[],selectedOrderStatus:null},n.fetchOrder=function(){var e=n.props.match.params;n.setState({loading:!0}),m.a.get(Object(v.M)(e.orderID)).then(function(e){n.setState({order:e.data,loading:!1,addressID:e.data.address,orderID:e.data.id,orderItems:e.data.order_items,orderTotal:e.data.total}),n.handleCallback()}).catch(function(e){n.setState({error:e,loading:!1})})},n.handleCallback=function(){n.fetchAddress()},n.fetchAddress=function(){var e=n.state.addressID;n.setState({loading:!0}),m.a.get(Object(v.K)(e)).then(function(e){n.setState({orderAddress:e.data,loading:!1})}).catch(function(e){n.setState({error:e,loading:!1})})},n.orderCancelCustoemr=function(e){e.preventDefault();var t=n.state.orderID;console.log(4),m.a.put(Object(v.T)(t),{order_status:4}).then(function(e){h.toast.error("Order  cancelled"),n.setState({CustomerSuccess:!0})}).catch(function(e){n.setState({error:e})})},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){this.fetchOrder(),this.props.fetchUserType()}},{key:"render",value:function(){var e=this.state,t=e.order,n=e.orderAddress,r=e.orderItems;e.ShopSuccess;return e.CustomerSuccess?s.a.createElement(f.a,{to:"/orders"}):s.a.createElement(x.b,null,this.state.loading?s.a.createElement(g.b,{style:{marginBottom:"30px",marginTop:"30px"}}):null,s.a.createElement(s.a.Fragment,null,s.a.createElement(h.ToastContainer,null),s.a.createElement(_,null,s.a.createElement("h3",null,t.shop_name),s.a.createElement("h4",null,"Order No: ",t.id),s.a.createElement("h6",null,"Date: ",t.start_date),s.a.createElement("h6",null,"Status: ",t.orderStatus),s.a.createElement("h6",null,"Mod of Payment: ",t.mode_of_payment),"Cancelled by customer"!==t.orderStatus?s.a.createElement(k,{type:"submit",onClick:this.orderCancelCustoemr},"Cancel order"):s.a.createElement(b.a,{variant:"danger"},"Order has been cancelled")),s.a.createElement(_,null,s.a.createElement(I,null,s.a.createElement("h2",null," Product details")),s.a.createElement(w,{style:{marginBottom:"20px"}},s.a.createElement("h3",null,"Product"),s.a.createElement("h3",null,"Price")),r.map(function(e,t){return s.a.createElement(w,{key:t},s.a.createElement("h6",null,e.itemLocalName?e.itemLocalName:e.itemName," [",e.vname,"] \xd7 ",e.quantity),s.a.createElement("h6",null,"Rs: ",e.final_price))}),s.a.createElement(w,{style:{marginTop:"20px"}},s.a.createElement("h2",null,"Total"),s.a.createElement("h2",null," Rs: ",t.total))),t.coupon?s.a.createElement(_,null,s.a.createElement(b.a,{variant:"success"},t.coupon_code," coupon Applied !!",t.coupon_offer)):null,s.a.createElement(_,null,s.a.createElement(I,null,s.a.createElement("h2",null," Order Address")),s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,n.PlaceName),s.a.createElement("h4",null,n.areaName),s.a.createElement("h5",null,n.full_address),s.a.createElement("h5",null," ",n.vilalgeName),s.a.createElement("h5",null,n.districtName),s.a.createElement("a",{href:"tel:"+n.phone_number},n.phone_number)))))}}]),t}(d.Component);t.default=Object(i.connect)(function(e){return{userType:e.user}},function(e){return{fetchUserType:function(){return e(Object(p.b)())}}})(T)}}]);
//# sourceMappingURL=34.ef4220df.chunk.js.map