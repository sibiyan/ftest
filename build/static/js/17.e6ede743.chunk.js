(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{572:function(e,a,t){"use strict";t.r(a);var r=t(4),l=t(5),c=t(8),n=t(6),s=t(7),o=t(0),d=t.n(o),m=t(40),i=t(13),u=(t(26),t(16)),E=t(47),h=t(558),p=t(10),f=(t(58),t(140)),v=t(9),N=function(e){function a(){var e,t;Object(r.a)(this,a);for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(n.a)(a)).call.apply(e,[this].concat(s)))).state={order:[],loading:!1,ShopSuccess:!1,CustomerSuccess:!1,error:null,addressID:null,orderAddress:[],orderItems:[],orderID:null,shippingCharges:25,orderTotal:null,orderStatus:[],shopOrderStatus:[],staffOrderStatus:[],selectedOrderStatus:null},t.fetchOrder=function(){var e=t.props.match.params;t.setState({loading:!0}),u.a.get(Object(v.I)(e.orderID)).then(function(e){t.setState({order:e.data,loading:!1,addressID:e.data.address,orderID:e.data.id,orderItems:e.data.order_items,orderTotal:e.data.total}),t.handleCallback()}).catch(function(e){t.setState({error:e,loading:!1})})},t.handleCallback=function(){t.fetchAddress()},t.fetchAddress=function(){var e=t.state.addressID;t.setState({loading:!0}),u.a.get(Object(v.G)(e)).then(function(e){t.setState({orderAddress:e.data,loading:!1})}).catch(function(e){t.setState({error:e,loading:!1})})},t.orderCancelCustoemr=function(e){e.preventDefault();var a=t.state.orderID;console.log(4),u.a.put(Object(v.P)(a),{order_status:4}).then(function(e){p.toast.error("Order  cancelled"),t.setState({CustomerSuccess:!0})}).catch(function(e){t.setState({error:e})})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){this.fetchOrder(),this.props.fetchUserType()}},{key:"render",value:function(){var e=this.state,a=e.order,t=e.orderAddress,r=e.orderItems,l=(e.ShopSuccess,e.CustomerSuccess);this.props.userType;return l?d.a.createElement(h.a,{to:"/orders"}):d.a.createElement("div",null,d.a.createElement(p.ToastContainer,null),d.a.createElement(m.a,{title:"Order Details"}),d.a.createElement("section",{className:"section-b-space"},d.a.createElement("div",{className:"container padding-cls"},d.a.createElement("a",{href:"/orders"},d.a.createElement("div",{className:"account-sidebar"},"Back to Orders")),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-3"},d.a.createElement("div",{className:"dashboard-left"},d.a.createElement("div",{className:"collection-mobile-back"},d.a.createElement("span",{className:"filter-back"},d.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})," ","back")))),d.a.createElement("div",{className:"col-lg-9"},d.a.createElement("div",{className:"dashboard-right"},d.a.createElement("div",{className:"dashboard"},d.a.createElement("div",{className:"box-account box-info"},d.a.createElement("div",{className:"box-head"},d.a.createElement("h3",null,a.shop_name)),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-sm-6"},d.a.createElement("div",{className:"box"},d.a.createElement("div",{className:"box-title"},d.a.createElement("h4",null,"Order No: ",a.id)),d.a.createElement("h6",null,"Date: ",a.start_date),d.a.createElement("h6",null,"Status: ",a.orderStatus),d.a.createElement("h6",null,"Mod of Payment: ",a.mode_of_payment)),d.a.createElement(f.a,{type:"submit",variant:"info",onClick:this.orderCancelCustoemr},"Cancel order")))))))),d.a.createElement("div",{className:"row section-t-space"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement("div",{className:"stripe-section"},d.a.createElement("h5",null,"Address"),d.a.createElement("div",null,d.a.createElement("h5",{className:"checkout_class"},t.PlaceName),d.a.createElement("h6",{className:"checkout_class"},t.areaName),d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,t.full_address)),d.a.createElement("tr",null,d.a.createElement("td",null,t.districtName),d.a.createElement("td",null,t.vilalgeName)),d.a.createElement("tr",null,d.a.createElement("td",null," ",d.a.createElement("a",{href:"tel:"+t.phone_number},t.phone_number))))))))),a?d.a.createElement("div",{className:"row section-t-space"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement("div",{className:"stripe-section"},d.a.createElement("div",{className:"col-lg-6 col-sm-12 col-xs-12"},d.a.createElement("div",{className:"checkout-details"},d.a.createElement("div",{className:"order-box"},d.a.createElement("div",{className:"title-box"},d.a.createElement("div",null,"Product ",d.a.createElement("span",null," Total"))),d.a.createElement("ul",{className:"qty"},r.map(function(e,a){return d.a.createElement("li",{key:a},e.item.title," \xd7 ",e.quantity," ",d.a.createElement("span",null,"Rs: ",e.final_price))})),d.a.createElement("ul",{className:"total"},d.a.createElement("li",null,"Total ",d.a.createElement("span",{className:"count"},a.total))))))))):"")))}}]),a}(o.Component);a.default=Object(i.connect)(function(e){return{userType:e.user.user.UserType}},function(e){return{fetchUserType:function(){return e(Object(E.b)())}}})(N)}}]);
//# sourceMappingURL=17.e6ede743.chunk.js.map