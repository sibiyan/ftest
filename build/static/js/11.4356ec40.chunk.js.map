{"version":3,"sources":["components/ld/localityList/locality.jsx","components/ld/localityList/main.jsx","components/ld/localityList/search.jsx"],"names":["ProductStyleFour","addToWishList","place","_this","setState","loading","authAxios","post","AddToFavoritePlacesURL","then","res","toast","success","catch","err","response","status","error","_this2","this","locality","props","react_default","a","createElement","className","Link","to","concat","process","id","src","localhost","image","alt","title","onClick","react_fontawesome_index_es","icon","faHeart","size","color","name","village_name","Component","LocalityList","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","fetchlaces","_this$state","state","offset","limit","query","axios","get","placeListURL","newLocalities","data","places","hasMore","has_more","localities","toConsumableArray","message","setQuery","e","target","value","callbacktest","console","log","window","onscroll","_assertThisInitialize","assertThisInitialized","_assertThisInitialize2","document","documentElement","scrollHeight","scrollTop","clientHeight","getElementById","setAttribute","_this$state2","Helmet","lib","map","index","localityList_locality","key","React","PureComponent"],"mappings":"2ZA2EeA,6MAhEbC,cAAgB,SAAAC,GACdC,EAAKC,SAAS,CAAEC,SAAS,IACzBC,IACGC,KAAKC,IAAwB,CAAEN,UAC/BO,KAAK,SAAAC,GACJP,EAAKC,SAAS,CAAEC,SAAS,IACzBM,QAAMC,QAAQ,2CAEfC,MAAM,SAAAC,GACuB,MAAxBA,EAAIC,SAASC,QACfL,QAAMM,MAAM,oCACZd,EAAKC,SAAS,CAAEC,SAAS,KACQ,MAAxBS,EAAIC,SAASC,QACtBL,QAAMM,MAAM,kDACZd,EAAKC,SAAS,CAAEC,SAAS,KAEzBM,QAAMM,MAAM,+FAIX,IAAAC,EAAAC,KACCC,EAAaD,KAAKE,MAAlBD,SAGR,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAE,GAAAC,OAAKC,GAAL,YAAAD,OAAsCR,EAASU,KACrDR,EAAAC,EAAAC,cAAA,OACEO,IAAG,GAAAH,OAAKI,KAALJ,OAAiBR,EAASa,OAC7BR,UAAU,YACVS,IAAI,OAIVZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,UACEW,MAAM,cACNC,QAAS,kBAAMlB,EAAKjB,cAAcmB,EAASU,MAG3CR,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAACa,EAAA,EAAD,CAAiBC,KAAMC,IAASC,KAAM,KAAMC,MAAO,gBAM3DnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAE,GAAAC,OAAKC,GAAL,YAAAD,OAAsCR,EAASU,KACrDR,EAAAC,EAAAC,cAAA,UAAKJ,EAASsB,OAEhBpB,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,UAAKJ,EAASuB,aAAd,sBAzDmBC,aCWzBC,GCbeD,+BDcnB,SAAAC,EAAYxB,GAAO,IAAAlB,EAAA,OAAA2C,OAAAC,EAAA,EAAAD,CAAA3B,KAAA0B,IACjB1C,EAAA2C,OAAAE,EAAA,EAAAF,CAAA3B,KAAA2B,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAA/B,KAAME,KAsCR8B,WAAa,WACXhD,EAAKC,SAAS,CAAEC,SAAS,GAAQ,WAAM,IAAA+C,EACJjD,EAAKkD,MAA9BC,EAD6BF,EAC7BE,OAAQC,EADqBH,EACrBG,MAAOC,EADcJ,EACdI,MAEvBC,IACGC,IAAIC,IAAY,UAAA/B,OAAa2B,EAAb,YAAA3B,OAA6B0B,EAA7B,OAAA1B,OAAyC4B,IACzD/C,KAAK,SAAAC,GACJ,IAAMkD,EAAgBlD,EAAImD,KAAKC,OACzBC,EAAUrD,EAAImD,KAAKG,SACzB7D,EAAKC,SAAS,CACZ2D,UACA1D,SAAS,EACT4D,WAAWnB,OAAAoB,EAAA,EAAApB,CAAK3C,EAAKkD,MAAMY,YAAjBrC,OAAAkB,OAAAoB,EAAA,EAAApB,CAAgCc,IAC1CA,cAAelD,EAAImD,KAAKC,OACxBR,OAAQA,EAASC,MAGpB1C,MAAM,SAAAC,GACLX,EAAKC,SAAS,CACZa,MAAOH,EAAIqD,QACX9D,SAAS,SA3DAF,EAiEnBiE,SAAW,SAAAC,GACTlE,EAAKC,SAAS,CAAEoD,MAAOa,EAAEC,OAAOC,QAChCpE,EAAKqE,gBAnEYrE,EAsEnBqE,aAAe,WACbC,QAAQC,IAAIvE,EAAKkD,MAAMG,QAvENrD,EA+EnBF,cAAgB,SAAAC,GACdC,EAAKC,SAAS,CAAEC,SAAS,IACzBC,IAEGC,KAAKC,IAAwB,CAAEN,UAC/BO,KAAK,SAAAC,GACJP,EAAKC,SAAS,CAAEC,SAAS,IACzBM,QAAMC,QAAQ,2CAEfC,MAAM,SAAAC,GACLX,EAAKC,SAAS,CAAEa,MAAOH,EAAKT,SAAS,IACrCM,QAAMM,MAAM,qDAxFhBd,EAAKkD,MAAQ,CACXhD,SAAS,EACTY,MAAO,KACPgD,WAAY,GAEZF,SAAS,EACTT,OAAQ,EACRC,MAAO,EACPC,MAAO,MACPI,cAAe,IAEjBe,OAAOC,SAAW,WAAM,IAAAC,EAAA/B,OAAAgC,EAAA,EAAAhC,QAAAgC,EAAA,EAAAhC,CAAA3C,IAEpBgD,EAFoB0B,EAEpB1B,WAFoB4B,EAAAF,EAGpBxB,MAASpC,EAHW8D,EAGX9D,MAAOZ,EAHI0E,EAGJ1E,QAAS0D,EAHLgB,EAGKhB,QAEvB9C,GAASZ,IAAY0D,GAEvBiB,SAASC,gBAAgBC,aACvBF,SAASC,gBAAgBE,YAC3BH,SAASC,gBAAgBG,cAGzBjC,KAzBahD,mFAmCjB6E,SAASK,eAAe,SAASC,aAAa,OAA9C,KACAnE,KAAKgC,8CA0DE,IAAAoC,EACgCpE,KAAKkC,MAApCY,EADDsB,EACCtB,WADDsB,EACa/B,MADb+B,EACoBxB,QAG3B,OACEzC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACgE,EAAA,OAAD,KACElE,EAAAC,EAAAC,cAAA,8BAEFF,EAAAC,EAAAC,cAACiE,EAAA,eAAD,MACCtE,KAAKkC,MAAMhD,SAAWiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAIrCwC,GACC3C,EAAAC,EAAAC,cAAA,WAASC,UAAU,2EACjBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAd,eACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,kBAOVF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAKZwC,EAAWyB,IAAI,SAACtE,EAAUuE,GAAX,OACdrE,EAAAC,EAAAC,cAACoE,EAAD,CAAUxE,SAAUA,EAAUyE,IAAKF,mBAtI9BG,IAAMC,gBAoJlBlD","file":"static/js/11.4356ec40.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Modal from \"react-responsive-modal\";\nimport { localhost } from \"../../../constants\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { AddToFavoritePlacesURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nclass ProductStyleFour extends Component {\n  addToWishList = place => {\n    this.setState({ loading: true });\n    authAxios\n      .post(AddToFavoritePlacesURL, { place })\n      .then(res => {\n        this.setState({ loading: false });\n        toast.success(\"This locality added to your favorites\");\n      })\n      .catch(err => {\n        if (err.response.status === 401) {\n          toast.error(\"Please login to add to favorites\");\n          this.setState({ loading: false });\n        } else if (err.response.status === 400) {\n          toast.error(\"This locality already exists in your favorites\");\n          this.setState({ loading: false });\n        } else {\n          toast.error(\"An error occured\");\n        }\n      });\n  };\n  render() {\n    const { locality } = this.props;\n    // console.log(locality);\n\n    return (\n      <div className=\"product-box\">\n        <div className=\"img-wrapper\">\n          <div className=\"front\">\n            <Link to={`${process.env.PUBLIC_URL}/places/${locality.id}`}>\n              <img\n                src={`${localhost}${locality.image}`}\n                className=\"img-fluid\"\n                alt=\"\"\n              />\n            </Link>\n          </div>\n          <div className=\"cart-info cart-wrap\">\n            <button\n              title=\"Add to cart\"\n              onClick={() => this.addToWishList(locality.id)}\n            >\n              {/* <i className=\"fa fa-heart\" aria-hidden=\"true\"></i> */}\n              <i>\n                <FontAwesomeIcon icon={faHeart} size={\"lg\"} color={\"#ff4c3b\"} />\n                {/* <FontAwesomeIcon icon={faHeart} /> */}\n              </i>\n            </button>\n          </div>\n        </div>\n        <div className=\"product-detail\">\n          <div>\n            <Link to={`${process.env.PUBLIC_URL}/places/${locality.id}`}>\n              <h4>{locality.name}</h4>\n            </Link>\n            <br />\n\n            <h6>{locality.village_name} Village</h6>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProductStyleFour;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Helmet } from \"react-helmet\";\nimport \"../../common/index.scss\";\n// import Slider from \"react-slick\";\n// import { Link } from \"react-router-dom\";\n// import { Slider3 } from \"../../../services/script\";\nimport { AddToFavoritePlacesURL } from \"../../../constants\";\nimport { authAxios } from \"../../../authAxios\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import { faHeart } from \"@fortawesome/free-solid-svg-icons\";\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n// import { Img } from \"react-image\";\nimport Locality from \"./locality\";\n// import { Product4, Product5 } from \"../../../services/script\";\n\nimport Search from \"./search\";\nimport { placeListURL, localhost } from \"../../../constants\";\nimport { isTemplateExpression } from \"typescript\";\n\nclass LocalityList extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: null,\n      localities: [],\n      // journals: [],\n      hasMore: true,\n      offset: 0,\n      limit: 2,\n      query: \"all\",\n      newLocalities: []\n    };\n    window.onscroll = () => {\n      const {\n        fetchlaces,\n        state: { error, loading, hasMore }\n      } = this;\n      if (error || loading || !hasMore) return;\n      if (\n        document.documentElement.scrollHeight -\n          document.documentElement.scrollTop ===\n        document.documentElement.clientHeight\n      ) {\n        // call some loading method\n        fetchlaces();\n      }\n    };\n  }\n\n  // componentWillMount() {\n  //   this.fetchlaces();\n  // }\n\n  componentDidMount() {\n    document.getElementById(\"color\").setAttribute(\"href\", `#`);\n    this.fetchlaces();\n  }\n\n  fetchlaces = () => {\n    this.setState({ loading: true }, () => {\n      const { offset, limit, query } = this.state;\n      // console.log(query);\n      axios\n        .get(placeListURL + `?limit=${limit}&offset=${offset}&q=${query}`)\n        .then(res => {\n          const newLocalities = res.data.places;\n          const hasMore = res.data.has_more;\n          this.setState({\n            hasMore,\n            loading: false,\n            localities: [...this.state.localities, ...newLocalities],\n            newLocalities: res.data.places,\n            offset: offset + limit\n          });\n        })\n        .catch(err => {\n          this.setState({\n            error: err.message,\n            loading: false\n          });\n        });\n    });\n  };\n\n  setQuery = e => {\n    this.setState({ query: e.target.value });\n    this.callbacktest();\n  };\n\n  callbacktest = () => {\n    console.log(this.state.query);\n  };\n\n  // handleSearch = e => {\n  //   e.preventDefault();\n  //   this.fetchlaces();\n  // };\n\n  addToWishList = place => {\n    this.setState({ loading: true });\n    authAxios\n      // .post(AddToFavoritePlacesURL  { shop })\n      .post(AddToFavoritePlacesURL, { place })\n      .then(res => {\n        this.setState({ loading: false });\n        toast.success(\"This locality added to your favorites\");\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n        toast.error(\"This locality already exists in your favorites\");\n      });\n  };\n\n  render() {\n    const { localities, query, hasMore } = this.state;\n    // console.log(localities);\n\n    return (\n      <div>\n        <Helmet>\n          <title>Local Dukans</title>\n        </Helmet>\n        <ToastContainer />\n        {this.state.loading && <div className=\"loading-cls\"></div>}\n        {/* <HeaderTwo logoName={\"logo.png\"} /> */}\n        {/* <Search /> */}\n\n        {localities && (\n          <section className=\"ratio_asos metro-section portfolio-section light-layout section-b-space\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <div className=\"title4\">\n                    <br></br>\n                    <h2 className=\"title-inner4\"> Localities</h2>\n                    <div className=\"line\">\n                      <span></span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <div className=\"no-slider row\">\n                    {/* <Slider\n                    {...Product4}\n                    className=\"product-4 product-m no-arrow\"\n                  > */}\n                    {localities.map((locality, index) => (\n                      <Locality locality={locality} key={index} />\n                    ))}\n                    {/* </Slider> */}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default LocalityList;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n// import style from \"./searchStyle.css\";\nimport { placeListURL } from \"../../../constants\";\n\nclass Search extends Component {\n  state = {\n    error: false,\n    query: \"all\",\n    results: [],\n    offset: 0,\n    limit: 20\n    // display: false,\n    // displayResult: false\n  };\n\n  getInfo = () => {\n    const { offset, limit, query } = this.state;\n    axios\n      .get(placeListURL + `?limit=${limit}&offset=${offset}&q=${query}`)\n      .then(res => {\n        this.setState({ results: res.data.places, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleInputChange = () => {\n    this.setState(\n      {\n        query: this.search.value\n      },\n      () => {\n        if (this.state.query && this.state.query.length > 1) {\n          // this.hideResult();\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {\n          // this.hideDropdown()\n        }\n      }\n    );\n  };\n\n  render() {\n    const { results } = this.state;\n    // console.log(displayResult);\n\n    return (\n      <section className=\"authentication-page section-b-space\">\n        <div className=\"container\">\n          <section className=\"search-block\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-lg-6 offset-lg-3\">\n                  <form className=\"form-header\">\n                    <div className=\"input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        aria-label=\"Amount (to the nearest dollar)\"\n                        placeholder=\"Search Localities......\"\n                        name=\"query\"\n                        ref={input => (this.search = input)}\n                        onChange={this.handleInputChange}\n                        autoComplete=\"off\"\n                      />\n                      <div className=\"input-group-append\">\n                        <button className=\"btn btn-solid\">\n                          {/* <i className=\"fa fa-search\"></i>Search */}\n                          <i>\n                            <FontAwesomeIcon icon={faSearch} />\n                          </i>\n                        </button>\n                      </div>\n                    </div>\n                    {/* {display ? ( */}\n                    <div>\n                      {results.map((value, i) => {\n                        // console.log(123);\n                        return (\n                          <div\n                            style={{\n                              display:\n                                this.state.query && this.state.query.length > 1\n                                  ? \"\"\n                                  : \"none\"\n                            }}\n                            className=\"option\"\n                            key={i}\n                            tabIndex=\"0\"\n                          >\n                            <Link\n                              to={`${process.env.PUBLIC_URL}/places/${value.id}`}\n                            >\n                              <span>{value.name}</span>\n                            </Link>\n                          </div>\n                        );\n                      })}\n                    </div>\n                    {/* ) : (\n                      \"\"\n                    )} */}\n                  </form>\n                </div>\n              </div>\n            </div>\n          </section>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default Search;\n"],"sourceRoot":""}